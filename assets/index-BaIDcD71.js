var qs=Object.defineProperty;var Hs=(n,e,t)=>e in n?qs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ge=(n,e,t)=>(Hs(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function H(){}function re(n,e){for(const t in e)n[t]=e[t];return n}function Qr(n){return n()}function qn(){return Object.create(null)}function ke(n){n.forEach(Qr)}function Se(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Et;function Hn(n,e){return n===e?!0:(Et||(Et=document.createElement("a")),Et.href=e,n===Et.href)}function Gs(n){return Object.keys(n).length===0}function Ze(n,e,t,r){if(n){const s=Zr(n,e,t,r);return n[0](s)}}function Zr(n,e,t,r){return n[1]&&r?re(t.ctx.slice(),n[1](r(e))):t.ctx}function et(n,e,t,r){if(n[2]&&r){const s=n[2](r(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function tt(n,e,t,r,s,i){if(s){const o=Zr(e,t,r,i);n.p(o,s)}}function nt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function Lt(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function zt(n,e){const t={};e=new Set(e);for(const r in n)!e.has(r)&&r[0]!=="$"&&(t[r]=n[r]);return t}function Js(n){const e={};for(const t in n)e[t]=!0;return e}function Pe(n){return n&&Se(n.destroy)?n.destroy:H}function k(n,e){n.appendChild(e)}function $(n,e,t){n.insertBefore(e,t||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function Vs(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function P(n){return document.createElement(n)}function D(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function K(n){return document.createTextNode(n)}function q(){return K(" ")}function $e(){return K("")}function Ve(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Ks(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Xs(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function f(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const Ys=["width","height"];function Ke(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&Ys.indexOf(r)===-1?n[r]=e[r]:f(n,r,e[r])}function Gn(n,e){for(const t in e)f(n,t,e[t])}function Qs(n){return Array.from(n.childNodes)}function _e(n,e){e=""+e,n.data!==e&&(n.data=e)}function Zs(n,e,t,r){n.style.setProperty(e,t,"")}function ie(n,e,t){n.classList.toggle(e,!!t)}function ei(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}class ti{constructor(e=!1){ge(this,"is_svg",!1);ge(this,"e");ge(this,"n");ge(this,"t");ge(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=D(t.nodeName):this.e=P(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(R)}}function Jn(n,e){return new n(e)}let bt;function ft(n){bt=n}function rt(){if(!bt)throw new Error("Function called outside component initialization");return bt}function Le(n){rt().$$.on_mount.push(n)}function In(n){rt().$$.on_destroy.push(n)}function es(){const n=rt();return(e,t,{cancelable:r=!1}={})=>{const s=n.$$.callbacks[e];if(s){const i=ei(e,t,{cancelable:r});return s.slice().forEach(o=>{o.call(n,i)}),!i.defaultPrevented}return!0}}function ni(n){return rt().$$.context.get(n)}function ri(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const We=[],we=[];let Ge=[];const Vn=[],ts=Promise.resolve();let un=!1;function ns(){un||(un=!0,ts.then(rs))}function si(){return ns(),ts}function dn(n){Ge.push(n)}const Vt=new Set;let De=0;function rs(){if(De!==0)return;const n=bt;do{try{for(;De<We.length;){const e=We[De];De++,ft(e),ii(e.$$)}}catch(e){throw We.length=0,De=0,e}for(ft(null),We.length=0,De=0;we.length;)we.pop()();for(let e=0;e<Ge.length;e+=1){const t=Ge[e];Vt.has(t)||(Vt.add(t),t())}Ge.length=0}while(We.length);for(;Vn.length;)Vn.pop()();un=!1,Vt.clear(),ft(n)}function ii(n){if(n.fragment!==null){n.update(),ke(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(dn)}}function oi(n){const e=[],t=[];Ge.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Ge=e}const At=new Set;let je;function oe(){je={r:0,c:[],p:je}}function ae(){je.r||ke(je.c),je=je.p}function I(n,e){n&&n.i&&(At.delete(n),n.i(e))}function O(n,e,t,r){if(n&&n.o){if(At.has(n))return;At.add(n),je.c.push(()=>{At.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Kn(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Xe(n,e){const t={},r={},s={$$scope:1};let i=n.length;for(;i--;){const o=n[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(t[l]=a[l],s[l]=1);n[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in t||(t[o]=void 0);return t}function Xn(n){return typeof n=="object"&&n!==null?n:{}}function V(n){n&&n.c()}function G(n,e,t){const{fragment:r,after_update:s}=n.$$;r&&r.m(e,t),dn(()=>{const i=n.$$.on_mount.map(Qr).filter(Se);n.$$.on_destroy?n.$$.on_destroy.push(...i):ke(i),n.$$.on_mount=[]}),s.forEach(dn)}function J(n,e){const t=n.$$;t.fragment!==null&&(oi(t.after_update),ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ai(n,e){n.$$.dirty[0]===-1&&(We.push(n),ns(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Q(n,e,t,r,s,i,o=null,a=[-1]){const l=bt;ft(n);const c=n.$$={fragment:null,ctx:[],props:i,update:H,not_equal:s,bound:qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:qn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(h,d,...g)=>{const m=g.length?g[0]:d;return c.ctx&&s(c.ctx[h],c.ctx[h]=m)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](m),u&&ai(n,h)),d}):[],c.update(),u=!0,ke(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const h=Qs(e.target);c.fragment&&c.fragment.l(h),h.forEach(R)}else c.fragment&&c.fragment.c();e.intro&&I(n.$$.fragment),G(n,e.target,e.anchor),rs()}ft(l)}class Z{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){J(this,1),this.$destroy=H}$on(e,t){if(!Se(t))return H;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Gs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const li="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(li);const Ne=[];function Ut(n,e=H){let t;const r=new Set;function s(a){if(X(n,a)&&(n=a,t)){const l=!Ne.length;for(const c of r)c[1](),Ne.push(c,n);if(l){for(let c=0;c<Ne.length;c+=2)Ne[c][0](Ne[c+1]);Ne.length=0}}}function i(a){s(a(n))}function o(a,l=H){const c=[a,l];return r.add(c),r.size===1&&(t=e(s,i)||H),a(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}const ci="modulepreload",ui=function(n){return"/"+n},Yn={},Ye=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(t.map(a=>{if(a=ui(a),a in Yn)return;Yn[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":ci,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},di=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ye(()=>Promise.resolve().then(()=>kt),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class On extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class hi extends On{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fi extends On{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gi extends On{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hn;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(hn||(hn={}));var pi=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class mi{constructor(e,{headers:t={},customFetch:r,region:s=hn.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=di(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return pi(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new hi(m)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new fi(u);if(!u.ok)throw new gi(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield u.json():d==="application/octet-stream"?g=yield u.blob():d==="text/event-stream"?g=u:d==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var bi=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qe=bi();const _i=Qe.fetch,jn=Qe.fetch.bind(Qe),ss=Qe.Headers,yi=Qe.Request,vi=Qe.Response,kt=Object.freeze(Object.defineProperty({__proto__:null,Headers:ss,Request:yi,Response:vi,default:jn,fetch:_i},Symbol.toStringTag,{value:"Module"}));class wi extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class ki{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jn:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(u=[],c=null,d=200,g="OK")}catch{i.status===404&&_===""?(d=204,g="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,g="OK"),c&&this.shouldThrowOnError)throw new wi(c)}return{error:c,data:u,count:h,status:d,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}}class Si extends ki{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class qe extends Si{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class xi{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new qe({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new qe({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new qe({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new qe({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new qe({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Ei="1.15.2",Ti={"X-Client-Info":`postgrest-js/${Ei}`};class An{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ti),t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new xi(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new An(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new qe({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const Ci="2.9.5",Ii={"X-Client-Info":`realtime-js/${Ci}`},Oi="1.0.0",is=1e4,ji=1e3;var Je;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Je||(Je={}));var ne;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ne||(ne={}));var ce;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ce||(ce={}));var fn;(function(n){n.websocket="websocket"})(fn||(fn={}));var Oe;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Oe||(Oe={}));class os{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Ai{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Kt{constructor(e,t,r={},s=is){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qn;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Qn||(Qn={}));class gt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gt.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=gt.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gt.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(b=>b.presence_ref),g=h.map(b=>b.presence_ref),m=u.filter(b=>g.indexOf(b.presence_ref)<0),_=h.filter(b=>d.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(g=>g.presence_ref),d=u.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var W;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(W||(W={}));const Zn=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Pi(o,n,e,s),i),{})},Pi=(n,e,t,r)=>{const s=e.find(a=>a.name===n),i=s==null?void 0:s.type,o=t[n];return i&&!r.includes(i)?as(i,o):gn(o)},as=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return zi(e,t)}switch(n){case W.bool:return Ri(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return $i(e);case W.json:case W.jsonb:return Li(e);case W.timestamp:return Di(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return gn(e);default:return gn(e)}},gn=n=>n,Ri=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},$i=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Li=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},zi=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>as(e,a))}return n},Di=n=>typeof n=="string"?n.replace(" ","T"):n;var er;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(er||(er={}));var tr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(tr||(tr={}));var nr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class Pn{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Kt(this,ce.join,this.params,this.timeout),this.rejoinTimer=new os(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ce.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new gt(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,g=[];for(let m=0;m<d;m++){const _=h[m],{filter:{event:b,schema:y,table:p,filter:w}}=_,v=c&&c[m];if(v&&v.event===b&&v.schema===y&&v.table===p&&v.filter===w)g.push(Object.assign(Object.assign({},_),{id:v.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=t.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Kt(this,ce.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kt(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ce;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,_,b;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(_=g.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,_,b,y,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const v=g.id,T=(m=g.filter)===null||m===void 0?void 0:m.event;return v&&((_=t.ids)===null||_===void 0?void 0:_.includes(v))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(p=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return v==="*"||v===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:_,table:b,commit_timestamp:y,type:p,errors:w}=m;d=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:y,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(m))}g.callback(d,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Pn.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ce.close,{},e)}_onError(e){this._on(ce.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Zn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Zn(e.columns,e.old_record)),t}}const Ni=()=>{},Mi=typeof WebSocket<"u";class Ui{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Ii,this.params={},this.timeout=is,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ni,this.conn=null,this.sendBuffer=[],this.serializer=new Ai,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ye(()=>Promise.resolve().then(()=>kt),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${fn.websocket}`,t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new os(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Mi){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Bi(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ye(()=>import("./browser-BImCA5dO.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Je.connecting:return Oe.Connecting;case Je.open:return Oe.Open;case Je.closing:return Oe.Closing;default:return Oe.Closed}}isConnected(){return this.connectionState()===Oe.Open}channel(e,t={config:{}}){const r=new Pn(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(ce.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oi}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:i,ref:o}=t;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ce.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ji,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Bi{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Je.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Rn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Fi extends Rn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rr extends Rn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Wi=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ls=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ye(()=>Promise.resolve().then(()=>kt),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},qi=()=>Wi(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ye(()=>Promise.resolve().then(()=>kt),void 0)).Response:Response});var st=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Xt=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Hi=(n,e)=>st(void 0,void 0,void 0,function*(){const t=yield qi();n instanceof t?n.json().then(r=>{e(new Fi(Xt(r),n.status||500))}).catch(r=>{e(new rr(Xt(r),r))}):e(new rr(Xt(n),n))}),Gi=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function Bt(n,e,t,r,s,i){return st(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,Gi(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Hi(l,a))})})}function pn(n,e,t,r){return st(this,void 0,void 0,function*(){return Bt(n,"GET",e,t,r)})}function me(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Bt(n,"POST",e,r,s,t)})}function Ji(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Bt(n,"PUT",e,r,s,t)})}function cs(n,e,t,r,s){return st(this,void 0,void 0,function*(){return Bt(n,"DELETE",e,r,s,t)})}var se=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Vi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ki{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ls(s)}uploadOrUpdate(e,t,r,s){return se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sr),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}upload(e,t,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:sr.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return se(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=yield me(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new Rn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}update(e,t,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return se(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}copy(e,t){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield me(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield me(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return se(this,void 0,void 0,function*(){try{const s=yield me(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}download(e,t){return se(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return se(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}list(e,t,r){return se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vi),t),{prefix:e||""});return{data:yield me(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Xi="2.5.5",Yi={"X-Client-Info":`storage-js/${Xi}`};var Me=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class Qi{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yi),t),this.fetch=ls(r)}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Me(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield me(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}}class Zi extends Qi{constructor(e,t={},r){super(e,t,r)}from(e){return new Ki(this.url,this.headers,e,this.fetch)}}const eo="2.43.4";let dt="";typeof Deno<"u"?dt="deno":typeof document<"u"?dt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dt="react-native":dt="node";const to={"X-Client-Info":`supabase-js-${dt}/${eo}`},no={headers:to},ro={schema:"public"},so={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},io={};var oo=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ao=n=>{let e;return n?e=n:typeof fetch>"u"?e=jn:e=fetch,(...t)=>e(...t)},lo=()=>typeof Headers>"u"?ss:Headers,co=(n,e,t)=>{const r=ao(t),s=lo();return(i,o)=>oo(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};function uo(n){return n.replace(/\/$/,"")}function ho(n,e){const{db:t,auth:r,realtime:s,global:i}=n,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i)}}const us="2.64.2",fo="http://localhost:9999",go="supabase.auth.token",po={"X-Client-Info":`gotrue-js/${us}`},ir=10,mn="X-Supabase-Api-Version",ds={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function mo(n){return Math.round(Date.now()/1e3)+n}function bo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const le=()=>typeof document<"u",Ee={tested:!1,writable:!1},pt=()=>{if(!le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ee.tested)return Ee.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ee.tested=!0,Ee.writable=!0}catch{Ee.tested=!0,Ee.writable=!1}return Ee.writable};function Yt(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const hs=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ye(()=>Promise.resolve().then(()=>kt),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},_o=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",fs=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Tt=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Qt=async(n,e)=>{await n.removeItem(e)};function yo(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,s,i,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Ft{constructor(){this.promise=new Ft.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ft.promiseConstructor=Promise;function or(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(yo(r))}async function vo(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function wo(n,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ko(n){return("0"+n.toString(16)).substr(-2)}function So(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ko).join("")}async function xo(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Eo(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function To(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await xo(n);return Eo(t)}async function Ue(n,e,t=!1){const r=So();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await fs(n,`${e}-code-verifier`,s);const i=await To(r);return[i,r===i?"plain":"s256"]}const Co=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Io(n){const e=n.headers.get(mn);if(!e||!e.match(Co))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class $n extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function L(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Oo extends $n{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function jo(n){return L(n)&&n.name==="AuthApiError"}class gs extends $n{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ze extends $n{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Te extends ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Zt extends ze{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ct extends ze{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class It extends ze{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ar extends ze{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bn extends ze{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function en(n){return L(n)&&n.name==="AuthRetryableFetchError"}class lr extends ze{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Ao=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ce=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Po=[502,503,504];async function cr(n){var e;if(!_o(n))throw new bn(Ce(n),0);if(Po.includes(n.status))throw new bn(Ce(n),n.status);let t;try{t=await n.json()}catch(i){throw new gs(Ce(i),i)}let r;const s=Io(n);if(s&&s.getTime()>=ds["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new lr(Ce(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lr(Ce(t),n.status,t.weak_password.reasons);throw new Oo(Ce(t),n.status||500,r)}const Ro=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function z(n,e,t,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mn]||(i[mn]=ds["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $o(n,e,t+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function $o(n,e,t,r,s,i){const o=Ro(e,r,s,i);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new bn(Ce(l),0)}if(a.ok||await cr(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await cr(l)}}function pe(n){var e;let t=null;No(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=mo(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ur(n){const e=pe(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function be(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Lo(n){return{data:n,error:null}}function zo(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i}=n,o=Ao(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Do(n){return n}function No(n){return n.access_token&&n.refresh_token&&n.expires_in}var Mo=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Uo{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:be})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Mo(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zo,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(L(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:be})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Do});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:be})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:be})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:be})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(L(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}}const Bo={getItem:n=>pt()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{pt()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{pt()&&globalThis.localStorage.removeItem(n)}};function dr(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Fo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Be={debug:!!(globalThis&&pt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ps extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wo extends ps{}async function qo(n,e,t){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Be.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Wo(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Be.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}Fo();const Ho={url:fo,storageKey:go,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:po,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},lt=30*1e3,hr=3;async function fr(n,e,t){return await t()}class _t{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_t.nextInstanceID,_t.nextInstanceID+=1,this.instanceID>0&&le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ho),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=hs(s.fetch),this.lock=s.lock||fr,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:le()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=qo:this.lock=fr,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:pt()?this.storage=Bo:(this.memoryStorage={},this.storage=dr(this.memoryStorage)):(this.memoryStorage={},this.storage=dr(this.memoryStorage)),le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${us}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=le()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return L(e)?{error:e}:{error:new gs("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{await this._removeSession();const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,r,s;try{await this._removeSession();let i;if("email"in e){const{email:u,password:h,options:d}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Ue(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:m},xform:pe})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:pe})}else throw new Ct("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ur})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ur})}else throw new Ct("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zt}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Tt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/"),{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pe});return await Qt(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:s,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:pe}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zt}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ue(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ct("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ue(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Te;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ct("You must provide either an email or phone number and a type")}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Tt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){const o=this.suppressGetSessionWarning;e=new Proxy(e,{get(l,c,u){return!o&&c==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(l,c,u)}})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:be}):await this._useSession(async t=>{var r,s,i;const{data:o,error:a}=t;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:be})})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Te;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ue(this.storage,this.storageKey));const{data:c,error:u}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:be});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return or(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Te;const t=Date.now()/1e3;let r=t,s=!0,i=null;const o=or(e.access_token);if(o.exp&&(r=o.exp,s=r<=t),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(L(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Te;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!le())throw new It("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new It("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new ar("Not a valid PKCE flow url.");const t=Yt(window.location.href);if(e){if(!t.code)throw new ar("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:p.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new It(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new It("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const g=d-u;g*1e3<=lt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,d,u);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(t){if(L(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=Yt(window.location.href);return!!(le()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Yt(window.location.href),t=await Tt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jo(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=bo(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:i},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ue(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return le()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await wo(async s=>(s>0&&await vo(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&en(i)&&Date.now()+o-r<lt})}catch(r){if(this._debug(t,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),le()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Tt(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+ir;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${ir}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),en(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ft;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Te;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return en(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fs(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/lt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lt}ms, refresh threshold is ${hr} ticks`),s<=hr&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ps)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ue(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(L(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(L(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}_t.nextInstanceID=0;const Go=_t;class Jo extends Go{constructor(e){super(e)}}var Vo=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class Ko{constructor(e,t,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=uo(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ro,realtime:io,auth:Object.assign(Object.assign({},so),{storageKey:l}),global:no},u=ho(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=co(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new An(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new mi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zi(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Vo(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,debug:a},l,c){var u;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jo({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new Ui(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xo=(n,e,t)=>new Ko(n,e,t),Yo="https://ovxdxlgvjcykgzcbbhrp.supabase.co",Qo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92eGR4bGd2amN5a2d6Y2JiaHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTc4Njc5NDIsImV4cCI6MjAzMzQ0Mzk0Mn0.gfAyDb9H6Iq-btQWMXdOSMFEfcHWjleMvGNA4uL2s04",Ln=Xo(Yo,Qo);async function Zo(n){const e={ImageBase64:n},{data:t}=await Ln.functions.invoke("determine-plant",{body:e});return console.log(t.data),t.data}async function ms(n){const e={name:n},{data:t}=await Ln.functions.invoke("get-plant-summary",{body:e});return console.log(t.data),t.data}async function ea(){const{data:n}=await Ln.from("Plants").select("*");if(!n)return{};let e={};for(let t of n){let r=t.data.plants;for(let s of r)e[s]?e[s]+=1:e[s]=1}return console.log(e),e.undefined=void 0,e.unrecognizable=void 0,e.Unrecognizable=void 0,console.log(e),e}const mt=/^[a-z0-9]+(-[a-z0-9]+)*$/,Wt=(n,e,t,r="")=>{const s=n.split(":");if(n.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;r=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),l=s.pop(),c={provider:s.length>0?s[0]:r,prefix:l,name:a};return e&&!Pt(c)?null:c}const i=s[0],o=i.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!Pt(a)?null:a}if(t&&r===""){const a={provider:r,prefix:"",name:i};return e&&!Pt(a,t)?null:a}return null},Pt=(n,e)=>n?!!((n.provider===""||n.provider.match(mt))&&(e&&n.prefix===""||n.prefix.match(mt))&&n.name.match(mt)):!1,bs=Object.freeze({left:0,top:0,width:16,height:16}),Dt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),qt=Object.freeze({...bs,...Dt}),_n=Object.freeze({...qt,body:"",hidden:!1});function ta(n,e){const t={};!n.hFlip!=!e.hFlip&&(t.hFlip=!0),!n.vFlip!=!e.vFlip&&(t.vFlip=!0);const r=((n.rotate||0)+(e.rotate||0))%4;return r&&(t.rotate=r),t}function gr(n,e){const t=ta(n,e);for(const r in _n)r in Dt?r in n&&!(r in t)&&(t[r]=Dt[r]):r in e?t[r]=e[r]:r in n&&(t[r]=n[r]);return t}function na(n,e){const t=n.icons,r=n.aliases||Object.create(null),s=Object.create(null);function i(o){if(t[o])return s[o]=[];if(!(o in s)){s[o]=null;const a=r[o]&&r[o].parent,l=a&&i(a);l&&(s[o]=[a].concat(l))}return s[o]}return Object.keys(t).concat(Object.keys(r)).forEach(i),s}function ra(n,e,t){const r=n.icons,s=n.aliases||Object.create(null);let i={};function o(a){i=gr(r[a]||s[a],i)}return o(e),t.forEach(o),gr(n,i)}function _s(n,e){const t=[];if(typeof n!="object"||typeof n.icons!="object")return t;n.not_found instanceof Array&&n.not_found.forEach(s=>{e(s,null),t.push(s)});const r=na(n);for(const s in r){const i=r[s];i&&(e(s,ra(n,s,i)),t.push(s))}return t}const sa={provider:"",aliases:{},not_found:{},...bs};function tn(n,e){for(const t in e)if(t in n&&typeof n[t]!=typeof e[t])return!1;return!0}function ys(n){if(typeof n!="object"||n===null)return null;const e=n;if(typeof e.prefix!="string"||!n.icons||typeof n.icons!="object"||!tn(n,sa))return null;const t=e.icons;for(const s in t){const i=t[s];if(!s.match(mt)||typeof i.body!="string"||!tn(i,_n))return null}const r=e.aliases||Object.create(null);for(const s in r){const i=r[s],o=i.parent;if(!s.match(mt)||typeof o!="string"||!t[o]&&!r[o]||!tn(i,_n))return null}return e}const pr=Object.create(null);function ia(n,e){return{provider:n,prefix:e,icons:Object.create(null),missing:new Set}}function Re(n,e){const t=pr[n]||(pr[n]=Object.create(null));return t[e]||(t[e]=ia(n,e))}function zn(n,e){return ys(e)?_s(e,(t,r)=>{r?n.icons[t]=r:n.missing.add(t)}):[]}function oa(n,e,t){try{if(typeof t.body=="string")return n.icons[e]={...t},!0}catch{}return!1}let yt=!1;function vs(n){return typeof n=="boolean"&&(yt=n),yt}function aa(n){const e=typeof n=="string"?Wt(n,!0,yt):n;if(e){const t=Re(e.provider,e.prefix),r=e.name;return t.icons[r]||(t.missing.has(r)?null:void 0)}}function la(n,e){const t=Wt(n,!0,yt);if(!t)return!1;const r=Re(t.provider,t.prefix);return oa(r,t.name,e)}function ca(n,e){if(typeof n!="object")return!1;if(typeof e!="string"&&(e=n.provider||""),yt&&!e&&!n.prefix){let s=!1;return ys(n)&&(n.prefix="",_s(n,(i,o)=>{o&&la(i,o)&&(s=!0)})),s}const t=n.prefix;if(!Pt({provider:e,prefix:t,name:"a"}))return!1;const r=Re(e,t);return!!zn(r,n)}const ws=Object.freeze({width:null,height:null}),ks=Object.freeze({...ws,...Dt}),ua=/(-?[0-9.]*[0-9]+[0-9.]*)/g,da=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function mr(n,e,t){if(e===1)return n;if(t=t||100,typeof n=="number")return Math.ceil(n*e*t)/t;if(typeof n!="string")return n;const r=n.split(ua);if(r===null||!r.length)return n;const s=[];let i=r.shift(),o=da.test(i);for(;;){if(o){const a=parseFloat(i);isNaN(a)?s.push(i):s.push(Math.ceil(a*e*t)/t)}else s.push(i);if(i=r.shift(),i===void 0)return s.join("");o=!o}}function ha(n,e="defs"){let t="";const r=n.indexOf("<"+e);for(;r>=0;){const s=n.indexOf(">",r),i=n.indexOf("</"+e);if(s===-1||i===-1)break;const o=n.indexOf(">",i);if(o===-1)break;t+=n.slice(s+1,i).trim(),n=n.slice(0,r).trim()+n.slice(o+1)}return{defs:t,content:n}}function fa(n,e){return n?"<defs>"+n+"</defs>"+e:e}function ga(n,e,t){const r=ha(n);return fa(r.defs,e+r.content+t)}const pa=n=>n==="unset"||n==="undefined"||n==="none";function ma(n,e){const t={...qt,...n},r={...ks,...e},s={left:t.left,top:t.top,width:t.width,height:t.height};let i=t.body;[t,r].forEach(_=>{const b=[],y=_.hFlip,p=_.vFlip;let w=_.rotate;y?p?w+=2:(b.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),b.push("scale(-1 1)"),s.top=s.left=0):p&&(b.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),b.push("scale(1 -1)"),s.top=s.left=0);let v;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:v=s.height/2+s.top,b.unshift("rotate(90 "+v.toString()+" "+v.toString()+")");break;case 2:b.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:v=s.width/2+s.left,b.unshift("rotate(-90 "+v.toString()+" "+v.toString()+")");break}w%2===1&&(s.left!==s.top&&(v=s.left,s.left=s.top,s.top=v),s.width!==s.height&&(v=s.width,s.width=s.height,s.height=v)),b.length&&(i=ga(i,'<g transform="'+b.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=s.width,c=s.height;let u,h;o===null?(h=a===null?"1em":a==="auto"?c:a,u=mr(h,l/c)):(u=o==="auto"?l:o,h=a===null?mr(u,c/l):a==="auto"?c:a);const d={},g=(_,b)=>{pa(b)||(d[_]=b.toString())};g("width",u),g("height",h);const m=[s.left,s.top,l,c];return d.viewBox=m.join(" "),{attributes:d,viewBox:m,body:i}}const ba=/\sid="(\S+)"/g,_a="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ya=0;function va(n,e=_a){const t=[];let r;for(;r=ba.exec(n);)t.push(r[1]);if(!t.length)return n;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const o=typeof e=="function"?e(i):e+(ya++).toString(),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n=n.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+s+"$3")}),n=n.replace(new RegExp(s,"g"),""),n}const yn=Object.create(null);function wa(n,e){yn[n]=e}function vn(n){return yn[n]||yn[""]}function Dn(n){let e;if(typeof n.resources=="string")e=[n.resources];else if(e=n.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const Nn=Object.create(null),ct=["https://api.simplesvg.com","https://api.unisvg.com"],Rt=[];for(;ct.length>0;)ct.length===1||Math.random()>.5?Rt.push(ct.shift()):Rt.push(ct.pop());Nn[""]=Dn({resources:["https://api.iconify.design"].concat(Rt)});function ka(n,e){const t=Dn(e);return t===null?!1:(Nn[n]=t,!0)}function Mn(n){return Nn[n]}const Sa=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let br=Sa();function xa(n,e){const t=Mn(n);if(!t)return 0;let r;if(!t.maxURL)r=0;else{let s=0;t.resources.forEach(o=>{s=Math.max(s,o.length)});const i=e+".json?icons=";r=t.maxURL-s-t.path.length-i.length}return r}function Ea(n){return n===404}const Ta=(n,e,t)=>{const r=[],s=xa(n,e),i="icons";let o={type:i,provider:n,prefix:e,icons:[]},a=0;return t.forEach((l,c)=>{a+=l.length+1,a>=s&&c>0&&(r.push(o),o={type:i,provider:n,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function Ca(n){if(typeof n=="string"){const e=Mn(n);if(e)return e.path}return"/"}const Ia=(n,e,t)=>{if(!br){t("abort",424);return}let r=Ca(e.provider);switch(e.type){case"icons":{const i=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=i+".json?"+l.toString();break}case"custom":{const i=e.uri;r+=i.slice(0,1)==="/"?i.slice(1):i;break}default:t("abort",400);return}let s=503;br(n+r).then(i=>{const o=i.status;if(o!==200){setTimeout(()=>{t(Ea(o)?"abort":"next",o)});return}return s=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?t("abort",i):t("next",s)});return}setTimeout(()=>{t("success",i)})}).catch(()=>{t("next",s)})},Oa={prepare:Ta,send:Ia};function ja(n){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);n.sort((s,i)=>s.provider!==i.provider?s.provider.localeCompare(i.provider):s.prefix!==i.prefix?s.prefix.localeCompare(i.prefix):s.name.localeCompare(i.name));let r={provider:"",prefix:"",name:""};return n.forEach(s=>{if(r.name===s.name&&r.prefix===s.prefix&&r.provider===s.provider)return;r=s;const i=s.provider,o=s.prefix,a=s.name,l=t[i]||(t[i]=Object.create(null)),c=l[o]||(l[o]=Re(i,o));let u;a in c.icons?u=e.loaded:o===""||c.missing.has(a)?u=e.missing:u=e.pending;const h={provider:i,prefix:o,name:a};u.push(h)}),e}function Ss(n,e){n.forEach(t=>{const r=t.loaderCallbacks;r&&(t.loaderCallbacks=r.filter(s=>s.id!==e))})}function Aa(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const e=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const r=n.provider,s=n.prefix;e.forEach(i=>{const o=i.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==s)return!0;const c=l.name;if(n.icons[c])o.loaded.push({provider:r,prefix:s,name:c});else if(n.missing.has(c))o.missing.push({provider:r,prefix:s,name:c});else return t=!0,!0;return!1}),o.pending.length!==a&&(t||Ss([n],i.id),i.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),i.abort))})}))}let Pa=0;function Ra(n,e,t){const r=Pa++,s=Ss.bind(null,t,r);if(!e.pending.length)return s;const i={id:r,icons:e,callback:n,abort:s};return t.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(i)}),s}function $a(n,e=!0,t=!1){const r=[];return n.forEach(s=>{const i=typeof s=="string"?Wt(s,e,t):s;i&&r.push(i)}),r}var La={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function za(n,e,t,r){const s=n.resources.length,i=n.random?Math.floor(Math.random()*s):n.index;let o;if(n.random){let E=n.resources.slice(0);for(o=[];E.length>1;){const j=Math.floor(Math.random()*E.length);o.push(E[j]),E=E.slice(0,j).concat(E.slice(j+1))}o=o.concat(E)}else o=n.resources.slice(i).concat(n.resources.slice(0,i));const a=Date.now();let l="pending",c=0,u,h=null,d=[],g=[];typeof r=="function"&&g.push(r);function m(){h&&(clearTimeout(h),h=null)}function _(){l==="pending"&&(l="aborted"),m(),d.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),d=[]}function b(E,j){j&&(g=[]),typeof E=="function"&&g.push(E)}function y(){return{startTime:a,payload:e,status:l,queriesSent:c,queriesPending:d.length,subscribe:b,abort:_}}function p(){l="failed",g.forEach(E=>{E(void 0,u)})}function w(){d.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),d=[]}function v(E,j,B){const U=j!=="success";switch(d=d.filter(x=>x!==E),l){case"pending":break;case"failed":if(U||!n.dataAfterTimeout)return;break;default:return}if(j==="abort"){u=B,p();return}if(U){u=B,d.length||(o.length?T():p());return}if(m(),w(),!n.random){const x=n.resources.indexOf(E.resource);x!==-1&&x!==n.index&&(n.index=x)}l="completed",g.forEach(x=>{x(B)})}function T(){if(l!=="pending")return;m();const E=o.shift();if(E===void 0){if(d.length){h=setTimeout(()=>{m(),l==="pending"&&(w(),p())},n.timeout);return}p();return}const j={status:"pending",resource:E,callback:(B,U)=>{v(j,B,U)}};d.push(j),c++,h=setTimeout(T,n.rotate),t(E,e,j.callback)}return setTimeout(T),y}function xs(n){const e={...La,...n};let t=[];function r(){t=t.filter(a=>a().status==="pending")}function s(a,l,c){const u=za(e,a,l,(h,d)=>{r(),c&&c(h,d)});return t.push(u),u}function i(a){return t.find(l=>a(l))||null}return{query:s,find:i,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function _r(){}const nn=Object.create(null);function Da(n){if(!nn[n]){const e=Mn(n);if(!e)return;const t=xs(e),r={config:e,redundancy:t};nn[n]=r}return nn[n]}function Na(n,e,t){let r,s;if(typeof n=="string"){const i=vn(n);if(!i)return t(void 0,424),_r;s=i.send;const o=Da(n);o&&(r=o.redundancy)}else{const i=Dn(n);if(i){r=xs(i);const o=n.resources?n.resources[0]:"",a=vn(o);a&&(s=a.send)}}return!r||!s?(t(void 0,424),_r):r.query(e,s,t)().abort}const yr="iconify2",vt="iconify",Es=vt+"-count",vr=vt+"-version",Ts=36e5,Ma=168,Ua=50;function wn(n,e){try{return n.getItem(e)}catch{}}function Un(n,e,t){try{return n.setItem(e,t),!0}catch{}}function wr(n,e){try{n.removeItem(e)}catch{}}function kn(n,e){return Un(n,Es,e.toString())}function Sn(n){return parseInt(wn(n,Es))||0}const Ht={local:!0,session:!0},Cs={local:new Set,session:new Set};let Bn=!1;function Ba(n){Bn=n}let Ot=typeof window>"u"?{}:window;function Is(n){const e=n+"Storage";try{if(Ot&&Ot[e]&&typeof Ot[e].length=="number")return Ot[e]}catch{}Ht[n]=!1}function Os(n,e){const t=Is(n);if(!t)return;const r=wn(t,vr);if(r!==yr){if(r){const a=Sn(t);for(let l=0;l<a;l++)wr(t,vt+l.toString())}Un(t,vr,yr),kn(t,0);return}const s=Math.floor(Date.now()/Ts)-Ma,i=a=>{const l=vt+a.toString(),c=wn(t,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>s&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&e(u,a))return!0}catch{}wr(t,l)}};let o=Sn(t);for(let a=o-1;a>=0;a--)i(a)||(a===o-1?(o--,kn(t,o)):Cs[n].add(a))}function js(){if(!Bn){Ba(!0);for(const n in Ht)Os(n,e=>{const t=e.data,r=e.provider,s=t.prefix,i=Re(r,s);if(!zn(i,t).length)return!1;const o=t.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,o):o,!0})}}function Fa(n,e){const t=n.lastModifiedCached;if(t&&t>=e)return t===e;if(n.lastModifiedCached=e,t)for(const r in Ht)Os(r,s=>{const i=s.data;return s.provider!==n.provider||i.prefix!==n.prefix||i.lastModified===e});return!0}function Wa(n,e){Bn||js();function t(r){let s;if(!Ht[r]||!(s=Is(r)))return;const i=Cs[r];let o;if(i.size)i.delete(o=Array.from(i).shift());else if(o=Sn(s),o>=Ua||!kn(s,o+1))return;const a={cached:Math.floor(Date.now()/Ts),provider:n.provider,data:e};return Un(s,vt+o.toString(),JSON.stringify(a))}e.lastModified&&!Fa(n,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),t("local")||t("session"))}function kr(){}function qa(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,Aa(n)}))}function Ha(n,e){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(e).sort():n.iconsToLoad=e,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:t,prefix:r}=n,s=n.iconsToLoad;delete n.iconsToLoad;let i;if(!s||!(i=vn(t)))return;i.prepare(t,r,s).forEach(a=>{Na(t,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{n.missing.add(c)});else try{const c=zn(n,l);if(!c.length)return;const u=n.pendingIcons;u&&c.forEach(h=>{u.delete(h)}),Wa(n,l)}catch(c){console.error(c)}qa(n)})})}))}const Ga=(n,e)=>{const t=$a(n,!0,vs()),r=ja(t);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,kr)}),()=>{l=!1}}const s=Object.create(null),i=[];let o,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===o)return;o=c,a=u,i.push(Re(c,u));const h=s[c]||(s[c]=Object.create(null));h[u]||(h[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:h}=l,d=Re(c,u),g=d.pendingIcons||(d.pendingIcons=new Set);g.has(h)||(g.add(h),s[c][u].push(h))}),i.forEach(l=>{const{provider:c,prefix:u}=l;s[c][u].length&&Ha(l,s[c][u])}),e?Ra(e,r,i):kr};function Ja(n,e){const t={...n};for(const r in e){const s=e[r],i=typeof s;r in ws?(s===null||s&&(i==="string"||i==="number"))&&(t[r]=s):i===typeof t[r]&&(t[r]=r==="rotate"?s%4:s)}return t}const Va=/[\s,]+/;function Ka(n,e){e.split(Va).forEach(t=>{switch(t.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}function Xa(n,e=0){const t=n.replace(/^-?[0-9.]*/,"");function r(s){for(;s<0;)s+=4;return s%4}if(t===""){const s=parseInt(n);return isNaN(s)?0:r(s)}else if(t!==n){let s=0;switch(t){case"%":s=25;break;case"deg":s=90}if(s){let i=parseFloat(n.slice(0,n.length-t.length));return isNaN(i)?0:(i=i/s,i%1===0?r(i):0)}}return e}function Ya(n,e){let t=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)t+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+n+"</svg>"}function Qa(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Za(n){return"data:image/svg+xml,"+Qa(n)}function el(n){return'url("'+Za(n)+'")'}const Sr={...ks,inline:!1},tl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},nl={display:"inline-block"},xn={"background-color":"currentColor"},As={"background-color":"transparent"},xr={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Er={"-webkit-mask":xn,mask:xn,background:As};for(const n in Er){const e=Er[n];for(const t in xr)e[n+"-"+t]=xr[t]}function rl(n){return n+(n.match(/^[-0-9.]+$/)?"px":"")}function sl(n,e){const t=Ja(Sr,e),r=e.mode||"svg",s=r==="svg"?{...tl}:{};n.body.indexOf("xlink:")===-1&&delete s["xmlns:xlink"];let i=typeof e.style=="string"?e.style:"";for(let y in e){const p=e[y];if(p!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":t[y]=p===!0||p==="true"||p===1;break;case"flip":typeof p=="string"&&Ka(t,p);break;case"color":i=i+(i.length>0&&i.trim().slice(-1)!==";"?";":"")+"color: "+p+"; ";break;case"rotate":typeof p=="string"?t[y]=Xa(p):typeof p=="number"&&(t[y]=p);break;case"ariaHidden":case"aria-hidden":p!==!0&&p!=="true"&&delete s["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;Sr[y]===void 0&&(s[y]=p)}}const o=ma(n,t),a=o.attributes;if(t.inline&&(i="vertical-align: -0.125em; "+i),r==="svg"){Object.assign(s,a),i!==""&&(s.style=i);let y=0,p=e.id;return typeof p=="string"&&(p=p.replace(/-/g,"_")),{svg:!0,attributes:s,body:va(o.body,p?()=>p+"ID"+y++:"iconifySvelte")}}const{body:l,width:c,height:u}=n,h=r==="mask"||(r==="bg"?!1:l.indexOf("currentColor")!==-1),d=Ya(l,{...a,width:c+"",height:u+""}),m={"--svg":el(d)},_=y=>{const p=a[y];p&&(m[y]=rl(p))};_("width"),_("height"),Object.assign(m,nl,h?xn:As);let b="";for(const y in m)b+=y+": "+m[y]+";";return s.style=b+i,{svg:!1,attributes:s}}vs(!0);wa("",Oa);if(typeof document<"u"&&typeof window<"u"){js();const n=window;if(n.IconifyPreload!==void 0){const e=n.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!ca(r))&&console.error(t)}catch{console.error(t)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(let t in e){const r="IconifyProviders["+t+"] is invalid.";try{const s=e[t];if(typeof s!="object"||!s||s.resources===void 0)continue;ka(t,s)||console.error(r)}catch{console.error(r)}}}}function il(n,e,t,r,s){function i(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof n=="object"&&n!==null&&typeof n.body=="string")return e.name="",i(),{data:{...qt,...n}};let o;if(typeof n!="string"||(o=Wt(n,!1,!0))===null)return i(),null;const a=aa(o);if(!a)return t&&(!e.loading||e.loading.name!==n)&&(i(),e.name="",e.loading={name:n,abort:Ga([o],r)}),null;i(),e.name!==n&&(e.name=n,s&&!e.destroyed&&s(n));const l=["iconify"];return o.prefix!==""&&l.push("iconify--"+o.prefix),o.provider!==""&&l.push("iconify--"+o.provider),{data:a,classes:l}}function ol(n,e){return n?sl({...qt,...n},e):null}function Tr(n){let e;function t(i,o){return i[0].svg?ll:al}let r=t(n),s=r(n);return{c(){s.c(),e=$e()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){r===(r=t(i))&&s?s.p(i,o):(s.d(1),s=r(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&R(e),s.d(i)}}}function al(n){let e,t=[n[0].attributes],r={};for(let s=0;s<t.length;s+=1)r=re(r,t[s]);return{c(){e=P("span"),Ke(e,r)},m(s,i){$(s,e,i)},p(s,i){Ke(e,r=Xe(t,[i&1&&s[0].attributes]))},d(s){s&&R(e)}}}function ll(n){let e,t=n[0].body+"",r=[n[0].attributes],s={};for(let i=0;i<r.length;i+=1)s=re(s,r[i]);return{c(){e=D("svg"),Gn(e,s)},m(i,o){$(i,e,o),e.innerHTML=t},p(i,o){o&1&&t!==(t=i[0].body+"")&&(e.innerHTML=t),Gn(e,s=Xe(r,[o&1&&i[0].attributes]))},d(i){i&&R(e)}}}function cl(n){let e,t=n[0]&&Tr(n);return{c(){t&&t.c(),e=$e()},m(r,s){t&&t.m(r,s),$(r,e,s)},p(r,[s]){r[0]?t?t.p(r,s):(t=Tr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){r&&R(e),t&&t.d(r)}}}function ul(n,e,t){const r={name:"",loading:null,destroyed:!1};let s=!1,i=0,o;const a=c=>{typeof e.onLoad=="function"&&e.onLoad(c),es()("load",{icon:c})};function l(){t(3,i++,i)}return Le(()=>{t(2,s=!0)}),In(()=>{t(1,r.destroyed=!0,r),r.loading&&(r.loading.abort(),t(1,r.loading=null,r))}),n.$$set=c=>{t(6,e=re(re({},e),Lt(c)))},n.$$.update=()=>{{const c=il(e.icon,r,s,l,a);t(0,o=c?ol(c.data,e):null),o&&c.classes&&t(0,o.attributes.class=(typeof e.class=="string"?e.class+" ":"")+c.classes.join(" "),o)}},e=Lt(e),[o,r,s,i]}class Nt extends Z{constructor(e){super(),Q(this,e,ul,cl,X,{})}}var ye=(n=>(n[n.Auth=0]="Auth",n[n.Photo=1]="Photo",n[n.Dex=2]="Dex",n[n.Leaderboard=3]="Leaderboard",n))(ye||{});let wt=Ut(1),Mt=Ut(void 0),Ps=Ut(void 0);function dl(n){let e,t,r,s,i,o,a,l,c;return r=new Nt({props:{icon:"eva:camera-outline",width:"30",height:"30"}}),o=new Nt({props:{icon:"eva:menu-outline",width:"30",height:"30"}}),{c(){e=P("div"),t=P("div"),V(r.$$.fragment),s=q(),i=P("div"),V(o.$$.fragment),f(t,"class","button svelte-omvegm"),f(i,"class","button svelte-omvegm"),f(e,"class","topbar svelte-omvegm")},m(u,h){$(u,e,h),k(e,t),G(r,t,null),k(e,s),k(e,i),G(o,i,null),a=!0,l||(c=[Ve(t,"click",n[0]),Ve(i,"click",n[1])],l=!0)},p:H,i(u){a||(I(r.$$.fragment,u),I(o.$$.fragment,u),a=!0)},o(u){O(r.$$.fragment,u),O(o.$$.fragment,u),a=!1},d(u){u&&R(e),J(r),J(o),l=!1,ke(c)}}}function hl(n){return[()=>{wt.set(ye.Photo)},()=>{wt.set(ye.Dex)}]}class Rs extends Z{constructor(e){super(),Q(this,e,hl,dl,X,{})}}function Cr(n){let e,t=Or(n[1],n[2])+"",r;return{c(){e=new ti(!1),r=$e(),e.a=r},m(s,i){e.m(t,s,i),$(s,r,i)},p(s,i){i&6&&t!==(t=Or(s[1],s[2])+"")&&e.p(t)},d(s){s&&(R(r),e.d())}}}function fl(n){let e,t=n[0]&&Cr(n);return{c(){t&&t.c(),e=$e()},m(r,s){t&&t.m(r,s),$(r,e,s)},p(r,[s]){r[0]?t?t.p(r,s):(t=Cr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){r&&R(e),t&&t.d(r)}}}function gl(n,e,t){let{observable:r=!1}=e,{component:s}=e,{code:i}=e;return n.$$set=o=>{"observable"in o&&t(0,r=o.observable),"component"in o&&t(1,s=o.component),"code"in o&&t(2,i=o.code)},[r,s,i]}let pl=class extends Z{constructor(e){super(),Q(this,e,gl,fl,X,{observable:0,component:1,code:2})}};const ml=()=>typeof window<"u",Fn=ml(),bl=".modal-header{padding: 2px 16px;background-color: #339af0;color: white;}.modal-body{padding: 2px 16px;}.modal-footer{padding: 2px 16px;background-color: #339af0;color: white;}.modal-content{position: relative;background-color: #fefefe;margin: auto;padding: 0;border: 1px solid #888;width: 80%;box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);animation-name: animateTop;animation-duration: 0.4s;}@keyframes animateTop {from {top: -300px; opacity: 0}to {top: 0; opacity: 1}}",$s=Fn?document.createElement("style"):void 0;if(Fn){const n=$s;n.textContent=bl,n.id="svelteui-inject"}function Ir(n,e,t){return Fn&&document.head.appendChild($s),`
    <div class="modal-content">
        <div class="modal-header">
            <h2>[${n} Component Error]:</h2>
            <h3>${e}</h3>
        </div>
        <div class="modal-body">
            <pre>
                ${t||""}
            </pre>
        </div>
        <div class="modal-footer">
            <h3>Fix the code to dismiss this error.</h3>
        </div>
    </div>        
    `}function Or(n,e){const{message:t,solution:r}=e;return r?Ir(n,t,r):Ir(n,t)}function ve(n,e){const t=[];if(e)for(let r=0;r<e.length;r++){const s=e[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?t.push(i(n,s[1])):t.push(i(n))}return{update(r){if((r&&r.length||0)!=t.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=t[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<t.length;r++){const s=t[r];s&&s.destroy&&s.destroy()}}}}const En="!",_l=new RegExp(`^[^${En}]+(?:${En}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function Ls(n,e=[]){let t;const r=[];n.$on=(i,o)=>{const a=i;let l=()=>{};for(const c of e){if(typeof c=="string"&&c===a){const u=n.$$.callbacks[a]||(n.$$.callbacks[a]=[]);return u.push(o),()=>{const h=u.indexOf(o);h!==-1&&u.splice(h,1)}}if(typeof c=="object"&&c.name===a){const u=o;o=(...h)=>{typeof c=="object"&&c.shouldExclude()||u(...h)}}}return t?l=t(a,o):r.push([a,o]),()=>{l()}};function s(i){ri(n,i)}return i=>{const o=[],a={};t=(l,c)=>{let u=l,h=c,d=!1;if(u.match(_l)){const b=u.split(En);u=b[0];const y=Object.fromEntries(b.slice(1).map(p=>[p,!0]));y.passive&&(d=d||{},d.passive=!0),y.nonpassive&&(d=d||{},d.passive=!1),y.capture&&(d=d||{},d.capture=!0),y.once&&(d=d||{},d.once=!0),y.preventDefault&&(h=Ks(h)),y.stopPropagation&&(h=Xs(h))}const m=Ve(i,u,h,d),_=()=>{m();const b=o.indexOf(_);b>-1&&o.splice(b,1)};return o.push(_),u in a||(a[u]=Ve(i,u,s)),_};for(let l=0;l<r.length;l++)t(r[l][0],r[l][1]);return{destroy:()=>{for(let l=0;l<o.length;l++)o[l]();for(const l of Object.entries(a))l[1]()}}}}const yl={};function Gt(){return ni(yl)}const rn=Ut("light");var F="colors",te="sizes",C="space",zs={gap:C,gridGap:C,columnGap:C,gridColumnGap:C,rowGap:C,gridRowGap:C,inset:C,insetBlock:C,insetBlockEnd:C,insetBlockStart:C,insetInline:C,insetInlineEnd:C,insetInlineStart:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,marginBlock:C,marginBlockEnd:C,marginBlockStart:C,marginInline:C,marginInlineEnd:C,marginInlineStart:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,paddingBlock:C,paddingBlockEnd:C,paddingBlockStart:C,paddingInline:C,paddingInlineEnd:C,paddingInlineStart:C,top:C,right:C,bottom:C,left:C,scrollMargin:C,scrollMarginTop:C,scrollMarginRight:C,scrollMarginBottom:C,scrollMarginLeft:C,scrollMarginX:C,scrollMarginY:C,scrollMarginBlock:C,scrollMarginBlockEnd:C,scrollMarginBlockStart:C,scrollMarginInline:C,scrollMarginInlineEnd:C,scrollMarginInlineStart:C,scrollPadding:C,scrollPaddingTop:C,scrollPaddingRight:C,scrollPaddingBottom:C,scrollPaddingLeft:C,scrollPaddingX:C,scrollPaddingY:C,scrollPaddingBlock:C,scrollPaddingBlockEnd:C,scrollPaddingBlockStart:C,scrollPaddingInline:C,scrollPaddingInlineEnd:C,scrollPaddingInlineStart:C,fontSize:"fontSizes",background:F,backgroundColor:F,backgroundImage:F,borderImage:F,border:F,borderBlock:F,borderBlockEnd:F,borderBlockStart:F,borderBottom:F,borderBottomColor:F,borderColor:F,borderInline:F,borderInlineEnd:F,borderInlineStart:F,borderLeft:F,borderLeftColor:F,borderRight:F,borderRightColor:F,borderTop:F,borderTopColor:F,caretColor:F,color:F,columnRuleColor:F,fill:F,outline:F,outlineColor:F,stroke:F,textDecorationColor:F,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:te,minBlockSize:te,maxBlockSize:te,inlineSize:te,minInlineSize:te,maxInlineSize:te,width:te,minWidth:te,maxWidth:te,height:te,minHeight:te,maxHeight:te,flexBasis:te,gridTemplateColumns:te,gridTemplateRows:te,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},vl=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,St=()=>{const n=Object.create(null);return(e,t,...r)=>{const s=(i=>JSON.stringify(i,vl))(e);return s in n?n[s]:n[s]=t(e,...r)}},$t=Symbol.for("sxs.internal"),Wn=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),jr=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:wl}=Object.prototype,Tn=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),kl=/\s+(?![^()]*\))/,Fe=n=>e=>n(...typeof e=="string"?String(e).split(kl):[e]),Ar={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Fe((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Fe((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Fe((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Fe((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Fe((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Fe((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},sn=/([\d.]+)([^]*)/,Sl=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),t),[]):e,xl=(n,e)=>n in El&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,s,i)=>r+(s==="stretch"?`-moz-available${i};${Tn(n)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${Tn(n)}:${r}fit-content`)+i):String(e),El={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},fe=n=>n?n+"-":"",Ds=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,i,o,a)=>o=="$"==!!i?r:(s||o=="--"?"calc(":"")+"var(--"+(o==="$"?fe(e)+(a.includes("$")?"":fe(t))+a.replace(/\$/g,"-"):a)+")"+(s||o=="--"?"*"+(s||"")+(i||"1")+")":"")),Tl=/\s*,\s*(?![^()]*\))/,Cl=Object.prototype.toString,He=(n,e,t,r,s)=>{let i,o,a;const l=(c,u,h)=>{let d,g;const m=_=>{for(d in _){const p=d.charCodeAt(0)===64,w=p&&Array.isArray(_[d])?_[d]:[_[d]];for(g of w){const v=/[A-Z]/.test(y=d)?y:y.replace(/-[^]/g,E=>E[1].toUpperCase()),T=typeof g=="object"&&g&&g.toString===Cl&&(!r.utils[v]||!u.length);if(v in r.utils&&!T){const E=r.utils[v];if(E!==o){o=E,m(E(g)),o=null;continue}}else if(v in Ar){const E=Ar[v];if(E!==a){a=E,m(E(g)),a=null;continue}}if(p&&(b=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=b.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,j,B,U,x,S)=>{const N=sn.test(j),ee=.0625*(N?-1:1),[ue,xe]=N?[U,j]:[j,U];return"("+(B[0]==="="?"":B[0]===">"===N?"max-":"min-")+ue+":"+(B[0]!=="="&&B.length===1?xe.replace(sn,(it,ot,at)=>Number(ot)+ee*(B===">"?1:-1)+at):xe)+(x?") and ("+(x[0]===">"?"min-":"max-")+ue+":"+(x.length===1?S.replace(sn,(it,ot,at)=>Number(ot)+ee*(x===">"?-1:1)+at):S):"")+")"})),T){const E=p?h.concat(d):[...h],j=p?[...u]:Sl(u,d.split(Tl));i!==void 0&&s(Pr(...i)),i=void 0,l(g,j,E)}else i===void 0&&(i=[[],u,h]),d=p||d.charCodeAt(0)!==36?d:`--${fe(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,g=T?g:typeof g=="number"?g&&v in Il?String(g)+"px":String(g):Ds(xl(v,g??""),r.prefix,r.themeMap[v]),i[0].push(`${p?`${d} `:`${Tn(d)}:`}${g}`)}}var b,y};m(c),i!==void 0&&s(Pr(...i)),i=void 0};l(n,e,t)},Pr=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Il={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Rr=n=>String.fromCharCode(n+(n>25?39:97)),Ae=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Rr(t%52)+r;return Rr(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),ht=["themed","global","styled","onevar","resonevar","allvar","inline"],Ol=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},jl=n=>{let e;const t=()=>{const{cssRules:s}=e.sheet;return[].map.call(s,(i,o)=>{const{cssText:a}=i;let l="";if(a.startsWith("--sxs"))return"";if(s[o-1]&&(l=s[o-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===i)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return i.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const s=Object(n).styleSheets||[];for(const a of s)if(Ol(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const g=d.slice(14,-3).trim().split(/\s+/),m=ht[g[0]];m&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[m]={group:h,index:l,cache:new Set(g)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:i,rules:o}=e;for(let a=ht.length-1;a>=0;--a){const l=ht[a];if(!o[l]){const c=ht[a+1],u=o[c]?o[c].index:i.cssRules.length;i.insertRule("@media{}",u),i.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:i.cssRules[u+1],index:u,cache:new Set([a])}}Al(o[l])}};return r(),e},Al=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},ut=Symbol(),Pl=St(),Rl=(n,e)=>Pl(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const s of t)if(s!=null)if(s[$t]){r.type==null&&(r.type=s[$t].type);for(const i of s[$t].composers)r.composers.add(i)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add($l(s,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Ll(n,r,e)}),$l=({variants:n,compoundVariants:e,defaultVariants:t,...r},s)=>{const i=`${fe(s.prefix)}c-${Ae(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,h=d,wl.call(u,h)||(l[d]="undefined");const g=n[d];for(const m in g){const _={[d]:String(m)};String(m)==="undefined"&&c.push(d);const b=g[m],y=[_,b,!jr(b)];o.push(y)}}var u,h;if(typeof e=="object"&&e)for(const d of e){let{css:g,...m}=d;g=typeof g=="object"&&g||{};for(const b in m)m[b]=String(m[b]);const _=[m,g,!jr(g)];a.push(_)}return[i,r,o,a,l,c]},Ll=(n,e,t)=>{const[r,s,i,o]=zl(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function d(){for(let g=0;g<d[ut].length;g++){const[m,_]=d[ut][g];h.rules[m].apply(_)}return d[ut]=[],null}return d[ut]=[],d.rules={},ht.forEach(g=>d.rules[g]={apply:m=>d[ut].push([g,m])}),d})(t):null,l=(a||t).rules,c=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||Dl;const{css:d,...g}=h,m={};for(const y in i)if(delete g[y],y in h){let p=h[y];typeof p=="object"&&p?m[y]={"@initial":i[y],...p}:(p=String(p),m[y]=p!=="undefined"||o.has(y)?p:i[y])}else m[y]=i[y];const _=new Set([...s]);for(const[y,p,w,v]of e.composers){t.rules.styled.cache.has(y)||(t.rules.styled.cache.add(y),He(p,[`.${y}`],[],n,j=>{l.styled.apply(j)}));const T=$r(w,m,n.media),E=$r(v,m,n.media,!0);for(const j of T)if(j!==void 0)for(const[B,U,x]of j){const S=`${y}-${Ae(U)}-${B}`;_.add(S);const N=(x?t.rules.resonevar:t.rules.onevar).cache,ee=x?l.resonevar:l.onevar;N.has(S)||(N.add(S),He(U,[`.${S}`],[],n,ue=>{ee.apply(ue)}))}for(const j of E)if(j!==void 0)for(const[B,U]of j){const x=`${y}-${Ae(U)}-${B}`;_.add(x),t.rules.allvar.cache.has(x)||(t.rules.allvar.cache.add(x),He(U,[`.${x}`],[],n,S=>{l.allvar.apply(S)}))}}if(typeof d=="object"&&d){const y=`${r}-i${Ae(d)}-css`;_.add(y),t.rules.inline.cache.has(y)||(t.rules.inline.cache.add(y),He(d,[`.${y}`],[],n,p=>{l.inline.apply(p)}))}for(const y of String(h.className||"").trim().split(/\s+/))y&&_.add(y);const b=g.className=[..._].join(" ");return{type:e.type,className:b,selector:c,props:g,toString:()=>b,deferredInjector:a}};return Wn(u,{className:r,selector:c,[$t]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},zl=n=>{let e="";const t=[],r={},s=[];for(const[i,,,,o,a]of n){e===""&&(e=i),t.push(i),s.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(s)]},$r=(n,e,t,r)=>{const s=[];e:for(let[i,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in i){const h=i[l];let d=e[l];if(d!==h){if(typeof d!="object"||!d)continue e;{let g,m,_=0;for(const b in d){if(h===String(d[b])){if(b!=="@initial"){const y=b.slice(1);(m=m||[]).push(y in t?t[y]:b.replace(/^@media ?/,"")),u=!0}c+=_,g=!0}++_}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!g)continue e}}}(s[c]=s[c]||[]).push([r?"cv":`${l}-${i[l]}`,o,u])}return s},Dl={},Nl=St(),Ml=(n,e)=>Nl(n,()=>(...t)=>{const r=()=>{for(let s of t){s=typeof s=="object"&&s||{};let i=Ae(s);if(!e.rules.global.cache.has(i)){if(e.rules.global.cache.add(i),"@import"in s){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(s["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete s["@import"]}He(s,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return Wn(r,{toString:r})}),Ul=St(),Bl=(n,e)=>Ul(n,()=>t=>{const r=`${fe(n.prefix)}k-${Ae(t)}`,s=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const i=[];He(t,[],[],n,a=>i.push(a));const o=`@keyframes ${r}{${i.join("")}}`;e.rules.global.apply(o)}return r};return Wn(s,{get name(){return s()},toString:s})}),Fl=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+fe(this.prefix)+fe(this.scale)+this.token}toString(){return this.computedValue}},Wl=St(),ql=(n,e)=>Wl(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const s=`.${t=(t=typeof t=="string"?t:"")||`${fe(n.prefix)}t-${Ae(r)}`}`,i={},o=[];for(const l in r){i[l]={};for(const c in r[l]){const u=`--${fe(n.prefix)}${l}-${c}`,h=Ds(String(r[l][c]),n.prefix,l);i[l][c]=new Fl(c,h,l,n.prefix),o.push(`${u}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...i,get className(){return a()},selector:s,toString:a}}),Hl=St(),Gl=n=>{let e=!1;const t=Hl(n,r=>{e=!0;const s="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",i=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,a=typeof r.theme=="object"&&r.theme||{},l={prefix:s,media:i,theme:a,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...zs},utils:typeof r.utils=="object"&&r.utils||{}},c=jl(o),u={css:Rl(l,c),globalCss:Ml(l,c),keyframes:Bl(l,c),createTheme:ql(l,c),reset(){c.reset(),u.theme.toString()},theme:{},sheet:c,config:l,prefix:s,getCssText:c.toString,toString:c.toString};return String(u.theme=u.createTheme(a)),u});return e||t.reset(),t};const Ns={primary:"#228be6",white:"#ffffff",black:"#000000",dark50:"#C1C2C5",dark100:"#A6A7AB",dark200:"#909296",dark300:"#5c5f66",dark400:"#373A40",dark500:"#2C2E33",dark600:"#25262b",dark700:"#1A1B1E",dark800:"#141517",dark900:"#101113",gray50:"#f8f9fa",gray100:"#f1f3f5",gray200:"#e9ecef",gray300:"#dee2e6",gray400:"#ced4da",gray500:"#adb5bd",gray600:"#868e96",gray700:"#495057",gray800:"#343a40",gray900:"#212529",red50:"#fff5f5",red100:"#ffe3e3",red200:"#ffc9c9",red300:"#ffa8a8",red400:"#ff8787",red500:"#ff6b6b",red600:"#fa5252",red700:"#f03e3e",red800:"#e03131",red900:"#c92a2a",pink50:"#fff0f6",pink100:"#ffdeeb",pink200:"#fcc2d7",pink300:"#faa2c1",pink400:"#f783ac",pink500:"#f06595",pink600:"#e64980",pink700:"#d6336c",pink800:"#c2255c",pink900:"#a61e4d",grape50:"#f8f0fc",grape100:"#f3d9fa",grape200:"#eebefa",grape300:"#e599f7",grape400:"#da77f2",grape500:"#cc5de8",grape600:"#be4bdb",grape700:"#ae3ec9",grape800:"#9c36b5",grape900:"#862e9c",violet50:"#f3f0ff",violet100:"#e5dbff",violet200:"#d0bfff",violet300:"#b197fc",violet400:"#9775fa",violet500:"#845ef7",violet600:"#7950f2",violet700:"#7048e8",violet800:"#6741d9",violet900:"#5f3dc4",indigo50:"#edf2ff",indigo100:"#dbe4ff",indigo200:"#bac8ff",indigo300:"#91a7ff",indigo400:"#748ffc",indigo500:"#5c7cfa",indigo600:"#4c6ef5",indigo700:"#4263eb",indigo800:"#3b5bdb",indigo900:"#364fc7",blue50:"#e7f5ff",blue100:"#d0ebff",blue200:"#a5d8ff",blue300:"#74c0fc",blue400:"#4dabf7",blue500:"#339af0",blue600:"#228be6",blue700:"#1c7ed6",blue800:"#1971c2",blue900:"#1864ab",cyan50:"#e3fafc",cyan100:"#c5f6fa",cyan200:"#99e9f2",cyan300:"#66d9e8",cyan400:"#3bc9db",cyan500:"#22b8cf",cyan600:"#15aabf",cyan700:"#1098ad",cyan800:"#0c8599",cyan900:"#0b7285",teal50:"#e6fcf5",teal100:"#c3fae8",teal200:"#96f2d7",teal300:"#63e6be",teal400:"#38d9a9",teal500:"#20c997",teal600:"#12b886",teal700:"#0ca678",teal800:"#099268",teal900:"#087f5b",green50:"#ebfbee",green100:"#d3f9d8",green200:"#b2f2bb",green300:"#8ce99a",green400:"#69db7c",green500:"#51cf66",green600:"#40c057",green700:"#37b24d",green800:"#2f9e44",green900:"#2b8a3e",lime50:"#f4fce3",lime100:"#e9fac8",lime200:"#d8f5a2",lime300:"#c0eb75",lime400:"#a9e34b",lime500:"#94d82d",lime600:"#82c91e",lime700:"#74b816",lime800:"#66a80f",lime900:"#5c940d",yellow50:"#fff9db",yellow100:"#fff3bf",yellow200:"#ffec99",yellow300:"#ffe066",yellow400:"#ffd43b",yellow500:"#fcc419",yellow600:"#fab005",yellow700:"#f59f00",yellow800:"#f08c00",yellow900:"#e67700",orange50:"#fff4e6",orange100:"#ffe8cc",orange200:"#ffd8a8",orange300:"#ffc078",orange400:"#ffa94d",orange500:"#ff922b",orange600:"#fd7e14",orange700:"#f76707",orange800:"#e8590c",orange900:"#d9480f"},Jl={blue:"blue",cyan:"cyan",dark:"dark",grape:"grape",gray:"gray",green:"green",indigo:"indigo",lime:"lime",orange:"orange",pink:"pink",red:"red",teal:"teal",violet:"violet",yellow:"yellow"},{css:Cn,globalCss:Ms,keyframes:Cu,getCssText:Iu,theme:Us,createTheme:Vl,config:Ou,reset:ju}=Gl({prefix:"svelteui",theme:{colors:Ns,space:{0:"0rem",xs:10,sm:12,md:16,lg:20,xl:24,xsPX:"10px",smPX:"12px",mdPX:"16px",lgPX:"20px",xlPX:"24px",1:"0.125rem",2:"0.25rem",3:"0.375rem",4:"0.5rem",5:"0.625rem",6:"0.75rem",7:"0.875rem",8:"1rem",9:"1.25rem",10:"1.5rem",11:"1.75rem",12:"2rem",13:"2.25rem",14:"2.5rem",15:"2.75rem",16:"3rem",17:"3.5rem",18:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},fontSizes:{xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"20px"},fonts:{standard:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",mono:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",fallback:"Segoe UI, system-ui, sans-serif"},fontWeights:{thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeights:{xs:1,sm:1.25,md:1.5,lg:1.625,xl:1.75},letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},sizes:{},radii:{xs:"2px",sm:"4px",md:"8px",lg:"16px",xl:"32px",squared:"33%",rounded:"50%",pill:"9999px"},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},zIndices:{1:"100",2:"200",3:"300",4:"400",5:"500",10:"1000",max:"9999"},borderWidths:{light:"1px",normal:"2px",bold:"3px",extrabold:"4px",black:"5px",xs:"1px",sm:"2px",md:"3px",lg:"4px",xl:"5px"},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},borderStyles:{},transitions:{}},media:{xs:"(min-width: 576px)",sm:"(min-width: 768px)",md:"(min-width: 992px)",lg:"(min-width: 1200px)",xl:"(min-width: 1400px)"},utils:{focusRing:n=>({WebkitTapHighlightColor:"transparent","&:focus":{outlineOffset:2,outline:n==="always"||n==="auto"?"2px solid $primary":"none"},"&:focus:not(:focus-visible)":{outline:n==="auto"||n==="never"?"none":void 0}}),p:n=>({padding:n}),pt:n=>({paddingTop:n}),pr:n=>({paddingRight:n}),pb:n=>({paddingBottom:n}),pl:n=>({paddingLeft:n}),px:n=>({paddingLeft:n,paddingRight:n}),py:n=>({paddingTop:n,paddingBottom:n}),m:n=>({margin:n}),mt:n=>({marginTop:n}),mr:n=>({marginRight:n}),mb:n=>({marginBottom:n}),ml:n=>({marginLeft:n}),mx:n=>({marginLeft:n,marginRight:n}),my:n=>({marginTop:n,marginBottom:n}),ta:n=>({textAlign:n}),tt:n=>({textTransform:n}),to:n=>({textOverflow:n}),d:n=>({display:n}),dflex:n=>({display:"flex",alignItems:n,justifyContent:n}),fd:n=>({flexDirection:n}),fw:n=>({flexWrap:n}),ai:n=>({alignItems:n}),ac:n=>({alignContent:n}),jc:n=>({justifyContent:n}),as:n=>({alignSelf:n}),fg:n=>({flexGrow:n}),fs:n=>({fontSize:n}),fb:n=>({flexBasis:n}),bc:n=>({backgroundColor:n}),bf:n=>({backdropFilter:n}),bg:n=>({background:n}),bgBlur:n=>({bf:"saturate(180%) blur(10px)",bg:n}),bgColor:n=>({backgroundColor:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),bgClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),br:n=>({borderRadius:n}),bw:n=>({borderWidth:n}),btrr:n=>({borderTopRightRadius:n}),bbrr:n=>({borderBottomRightRadius:n}),bblr:n=>({borderBottomLeftRadius:n}),btlr:n=>({borderTopLeftRadius:n}),bs:n=>({boxShadow:n}),normalShadow:n=>({boxShadow:`0 4px 14px 0 $${n}`}),lh:n=>({lineHeight:n}),ov:n=>({overflow:n}),ox:n=>({overflowX:n}),oy:n=>({overflowY:n}),pe:n=>({pointerEvents:n}),events:n=>({pointerEvents:n}),us:n=>({WebkitUserSelect:n,userSelect:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),w:n=>({width:n}),h:n=>({height:n}),minW:n=>({minWidth:n}),minH:n=>({minWidth:n}),mw:n=>({maxWidth:n}),maxW:n=>({maxWidth:n}),mh:n=>({maxHeight:n}),maxH:n=>({maxHeight:n}),size:n=>({width:n,height:n}),minSize:n=>({minWidth:n,minHeight:n,width:n,height:n}),sizeMin:n=>({minWidth:n,minHeight:n,width:n,height:n}),maxSize:n=>({maxWidth:n,maxHeight:n}),sizeMax:n=>({maxWidth:n,maxHeight:n}),appearance:n=>({WebkitAppearance:n,appearance:n}),scale:n=>({transform:`scale(${n})`}),linearGradient:n=>({backgroundImage:`linear-gradient(${n})`}),tdl:n=>({textDecorationLine:n}),textGradient:n=>({backgroundImage:`linear-gradient(${n})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"})},themeMap:{...zs,width:"space",height:"space",minWidth:"space",maxWidth:"space",minHeight:"space",maxHeight:"space",flexBasis:"space",gridTemplateColumns:"space",gridTemplateRows:"space",blockSize:"space",minBlockSize:"space",maxBlockSize:"space",inlineSize:"space",minInlineSize:"space",maxInlineSize:"space",borderWidth:"borderWeights"}}),de=Vl("dark-theme",{colors:Ns,shadows:{xs:"-4px 0 15px rgb(0 0 0 / 50%)",sm:"0 5px 20px -5px rgba(20, 20, 20, 0.1)",md:"0 8px 30px rgba(20, 20, 20, 0.15)",lg:"0 30px 60px rgba(20, 20, 20, 0.15)",xl:"0 40px 80px rgba(20, 20, 20, 0.25)"}});Ms({a:{focusRing:"auto"},body:{[`${de.selector} &`]:{backgroundColor:"$dark700",color:"$dark50"},backgroundColor:"$white",color:"$black"}});Ms({html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%",margin:0},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em",margin:0},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"textfield",outlineOffset:"-2px"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}});function M(n,e=0){var s,i;const t=((s=Gt())==null?void 0:s.theme)||Jt();let r="50";return Kl(n)?(e!==0&&(r=`${e.toString()}00`),(i=t.colors[`${n}${r}`])==null?void 0:i.value):n}function Kl(n){let e=!1;switch(n){case"dark":e=!0;break;case"gray":e=!0;break;case"red":e=!0;break;case"pink":e=!0;break;case"grape":e=!0;break;case"violet":e=!0;break;case"indigo":e=!0;break;case"blue":e=!0;break;case"cyan":e=!0;break;case"teal":e=!0;break;case"green":e=!0;break;case"lime":e=!0;break;case"yellow":e=!0;break;case"orange":e=!0;break;default:e=!1;break}return e}function Xl(n){return e=>{if(typeof e=="number")return`${e/16}${n}`;if(typeof e=="string"){const t=e.replace("px","");if(!Number.isNaN(Number(t)))return`${Number(t)/16}${n}`}return e}}const jt=Xl("rem");function Yl(n=0){return{position:"absolute",top:jt(n),right:jt(n),left:jt(n),bottom:jt(n)}}function Ql(n){var e,t;return typeof n.size=="number"?n.size:typeof n.sizes[n.size]=="number"?n.sizes[n.size]:+((e=n.sizes[n.size])==null?void 0:e.value)||+((t=n.sizes.md)==null?void 0:t.value)}function Zl(n){var t;const e=((t=Gt())==null?void 0:t.theme)||Jt();return typeof n=="number"?n:e.radii[n].value}function ec(n){const e=n.replace("#","");return typeof e=="string"&&e.length===6&&!Number.isNaN(+`0x${e}`)}function tc(n){const e=n.replace("#",""),t=parseInt(e,16),r=t>>16&255,s=t>>8&255,i=t&255;return{r,g:s,b:i,a:1}}function nc(n){const[e,t,r,s]=n.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:e,g:t,b:r,a:s||1}}function rc(n){return ec(n)?tc(n):n.startsWith("rgb")?nc(n):{r:0,g:0,b:0,a:1}}function he(n,e=1){if(typeof n!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";const{r:t,g:r,b:s}=rc(n);return`rgba(${t}, ${r}, ${s}, ${e})`}const on={from:"indigo",to:"cyan",deg:45};function sc({variant:n,color:e,gradient:t}){var i;const r=((i=Gt())==null?void 0:i.theme)||Jt(),s=6;if(n==="light")return{border:"transparent",background:[he(M(e,8),.35),he(M(e,0),1)],color:[e==="dark"?M("dark",0):M(e,2),e==="dark"?M("dark",9):M(e,s)],hover:[he(M(e,7),.45),he(M(e,1),.65)]};if(n==="default")return{border:[M("dark",5),M("gray",4)],background:[M("dark",5),r.colors.white.value],color:[r.colors.white.value,r.colors.black.value],hover:[M("dark",4),M("gray",0)]};if(n==="white")return{border:"transparent",background:r.colors.white.value,color:M(e,s),hover:null};if(n==="outline")return{border:[M(e,4),M(e,s)],background:"transparent",color:[M(e,4),M(e,s)],hover:[he(M(e,4),.05),he(M(e,0),.35)]};if(n==="gradient"){const o={from:(t==null?void 0:t.from)||on.from,to:(t==null?void 0:t.to)||on.to,deg:(t==null?void 0:t.deg)||on.deg};return{background:`linear-gradient(${o.deg}deg, ${M(o.from,s)} 0%, ${M(o.to,s)} 100%)`,color:r.colors.white.value,border:"transparent",hover:null}}return n==="subtle"?{border:"transparent",background:"transparent",color:[e==="dark"?M("dark",0):M(e,2),e==="dark"?M("dark",9):M(e,s)],hover:[he(M(e,8),.35),he(M(e,0),1)]}:{border:"transparent",background:[M(e,8),M(e,s)],color:r.colors.white.value,hover:M(e,7)}}const Ie={cover:Yl,size:Ql,radius:Zl,themeColor:M,variant:sc,rgba:he};function Jt(){let n;return rn==null||rn.subscribe(t=>{n=t}),{...Us,colorNames:Jl,colorScheme:n,dark:de==null?void 0:de.selector,fn:{cover:Ie.cover,themeColor:Ie.themeColor,size:Ie.size,radius:Ie.radius,rgba:Ie.rgba,variant:Ie.variant}}}const ic=(n,e)=>{const{themeColor:t,rgba:r}=Ie,s={filled:{[`${de.selector} &`]:{backgroundColor:t(n,8)},border:"transparent",backgroundColor:t(n,6),color:"White","&:hover":{backgroundColor:t(n,7)}},light:{[`${de.selector} &`]:{backgroundColor:r(t(n,8),.35),color:n==="dark"?t("dark",0):t(n,2),"&:hover":{backgroundColor:r(t(n,7),.45)}},border:"transparent",backgroundColor:t(n,0),color:n==="dark"?t("dark",9):t(n,6),"&:hover":{backgroundColor:t(n,1)}},outline:{[`${de.selector} &`]:{border:`1px solid ${t(n,4)}`,color:`${t(n,4)}`,"&:hover":{backgroundColor:r(t(n,4),.05)}},border:`1px solid ${t(n,7)}`,backgroundColor:"transparent",color:t(n,7),"&:hover":{backgroundColor:r(t(n,0),.35)}},subtle:{[`${de.selector} &`]:{color:n==="dark"?t("dark",0):t(n,2),"&:hover":{backgroundColor:r(t(n,8),.35)}},border:"transparent",backgroundColor:"transparent",color:n==="dark"?t("dark",9):t(n,6),"&:hover":{backgroundColor:t(n,0)}},default:{[`${de.selector} &`]:{border:`1px solid ${t("dark",5)}`,backgroundColor:t("dark",5),color:"White","&:hover":{backgroundColor:t("dark",4)}},border:`1px solid ${t("gray",4)}`,backgroundColor:"White",color:"Black","&:hover":{backgroundColor:t("gray",0)}},white:{border:"transparent",backgroundColor:"White",color:t(n,7),"&:hover":{backgroundColor:"White"}},gradient:{}};return e&&(s.gradient={border:"transparent",background:`linear-gradient(${e.deg}deg, $${e.from}600 0%, $${e.to}600 100%)`,color:"White"}),s},oc={}.hasOwnProperty;function ac(...n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(!r)continue;const s=typeof r;if(s==="string"||s==="number")e.push(r);else if(Array.isArray(r)){if(r.length){const i={...r};i&&e.push(i)}}else if(s==="object")if(r.toString===Object.prototype.toString)for(const i in r)oc.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}return e.join(" ")}function lc(){return{cx:ac}}function cc(n){const e={};return Object.keys(n).forEach(t=>{const[r,s]=n[t];e[r]=s}),e}const Lr="svelteui";function uc(n){return`__svelteui-ref-${n||""}`}function dc(n,e){const t=[],r={},s=o=>{const a=o.variation??o,l=Object.keys(a);for(const c of l)i(a[c])},i=o=>{Object.keys(o).map(a=>{if(a==="variants"){s(o[a]);return}if(a==="ref"&&t.push(o.ref),a==="darkMode"&&(o[`${e.dark} &`]=o.darkMode),!(o[a]===null||typeof o[a]!="object")){if(i(o[a]),a==="darkMode")delete o[a];else if(!a.startsWith("@media")){if(!a.startsWith("&")&&!a.startsWith(e.dark)){const l=Cn(o[a]);r[a]=l().toString(),o[`& .${l().toString()}`]=o[a],delete o[a]}}}})};return i(n),delete n["& .root"],{classMap:r,refs:Array.from(new Set(t))}}function hc(n){const e=typeof n=="function"?n:()=>n;function t(r={},s){var y;const i=((y=Gt())==null?void 0:y.theme)||Jt(),{cx:o}=lc(),{override:a,name:l}=s||{},c=e(i,r,uc),u=Object.assign({},c),{classMap:h,refs:d}=dc(u,i),g=c.root??void 0,m=g!==void 0?{...g,...u}:c,_=Cn(m),b=cc(Object.keys(c).map(p=>{const w=d.find(U=>U.includes(p))??"",v=(w==null?void 0:w.split("-"))??[],T=(w==null?void 0:w.split("-")[(v==null?void 0:v.length)-1])===p,E=p.toString();let j=h[E]??E;w&&T&&(j=`${j} ${w}`),p==="root"&&(j=_({css:a}).toString());let B=`${Lr}-${p.toString()}`;return l&&(B=`${Lr}-${l}-${p.toString()}`,j=`${j} ${B}`),[p,j]}));return{cx:o,theme:i,classes:b,getStyles:Cn(m)}}return t}const zr={xs:{height:30,padding:"0px 14px"},sm:{height:36,padding:"0px 18px"},md:{height:42,padding:"0px 22px"},lg:{height:50,padding:"0px 26px"},xl:{height:60,padding:"0px 32px"},"compact-xs":{height:22,padding:"0 7px"},"compact-sm":{height:26,padding:"0 8px"},"compact-md":{height:30,padding:"0 10px"},"compact-lg":{height:34,padding:"0 12px"},"compact-xl":{height:40,padding:"0 14px"}},fc=hc((n,{color:e,compact:t,fullSize:r,gradient:s,radius:i,size:o,variant:a})=>({root:{focusRing:"auto",cursor:"pointer",position:"relative",boxSizing:"border-box",textDecoration:"none",outline:"none",userSelect:"none",appearance:"none",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",background:null,borderRadius:typeof i=="number"?i:`$${i}`,height:typeof o=="number"?`${o}px`:zr[t?`compact-${o}`:o].height,padding:typeof o=="number"?`0px ${o}px`:zr[t?`compact-${o}`:o].padding,fontFamily:n.fonts.standard.value??"sans-serif",fontWeight:"$semibold",fontSize:`$${o}`,lineHeight:1,flexGrow:0,width:r?"100%":"fit-content","&:hover":{backgroundColor:a==="gradient"?null:n.fn.themeColor(e,7),backgroundSize:a==="gradient"?"200%":null},"&:active":{transform:"translateY(1px)"},"&:disabled":{pointerEvents:"none",borderColor:"transparent",background:n.fn.themeColor("gray",2),backgroundColor:n.fn.themeColor("gray",2),color:n.fn.themeColor("gray",5),cursor:"not-allowed",darkMode:{borderColor:"transparent",backgroundColor:n.fn.themeColor("dark",4),color:n.fn.themeColor("dark",6)}}},disabled:{pointerEvents:"none",borderColor:"transparent",background:n.fn.themeColor("gray",2),backgroundColor:n.fn.themeColor("gray",2),color:n.fn.themeColor("gray",5),cursor:"not-allowed",darkMode:{backgroundColor:n.fn.themeColor("dark",4),color:n.fn.themeColor("dark",6)}},loading:{pointerEvents:"none","&::before":{content:'""',position:"absolute",inset:-1,backgroundColor:"rgba(255, 255, 255, .5)",borderRadius:`$${i}`,cursor:"not-allowed"},darkMode:{"&::before":{backgroundColor:n.fn.rgba(n.fn.themeColor("dark",7),.5)}}},variants:{variation:ic(e,s),disabled:{true:{pointerEvents:"none",borderColor:"transparent",background:n.fn.themeColor("gray",2),backgroundColor:n.fn.themeColor("gray",2),color:n.fn.themeColor("gray",5),cursor:"not-allowed",[`${de.selector} &`]:{borderColor:"transparent",backgroundColor:n.fn.themeColor("dark",4),color:n.fn.themeColor("dark",6)}}}}})),Dr=Object.freeze([{error:!0,message:"If using the disabled prop, a loading cannot be set at the same time",solution:`
                If your component looks like this:
                
                &lt;Button disabled loading ...&gt; Button Text &lt;/Button&gt;
                         ^^^^^^^^ ^^^^^^^ - Try removing one of these
                `},{error:!0,message:"If using the external prop, a href prop must be associated with it. If you have an href prop there must be content inside.",solution:`
                If your component looks like this:
                
                &lt;Button external ...&gt; Button Text &lt;/Button&gt;
                         ^^^^^^^^ - Try adding the href prop too
                `}]);function gc(n){let e,t,r,s,i,o,a,l,c,u,h;return{c(){e=D("svg"),t=D("g"),r=D("g"),s=D("circle"),i=D("path"),o=D("animateTransform"),f(s,"stroke-opacity",".5"),f(s,"cx","16"),f(s,"cy","16"),f(s,"r","16"),f(o,"attributeName","transform"),f(o,"type","rotate"),f(o,"from","0 16 16"),f(o,"to","360 16 16"),f(o,"dur","1s"),f(o,"repeatCount","indefinite"),f(i,"d","M32 16c0-9.94-8.06-16-16-16"),f(r,"transform","translate(2.5 2.5)"),f(r,"stroke-width","5"),f(t,"fill","none"),f(t,"fill-rule","evenodd"),f(e,"width",a=`${n[1]}px`),f(e,"height",l=`${n[1]}px`),f(e,"viewBox","0 0 38 38"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke",n[2]),f(e,"class",n[3])},m(d,g){$(d,e,g),k(e,t),k(t,r),k(r,s),k(r,i),k(i,o),u||(h=Pe(c=ve.call(null,e,n[0])),u=!0)},p(d,[g]){g&2&&a!==(a=`${d[1]}px`)&&f(e,"width",a),g&2&&l!==(l=`${d[1]}px`)&&f(e,"height",l),g&4&&f(e,"stroke",d[2]),g&8&&f(e,"class",d[3]),c&&Se(c.update)&&g&1&&c.update.call(null,d[0])},i:H,o:H,d(d){d&&R(e),u=!1,h()}}}function pc(n,e,t){let{use:r=[]}=e,{size:s=25}=e,{color:i="blue"}=e,{class:o=""}=e;return n.$$set=a=>{"use"in a&&t(0,r=a.use),"size"in a&&t(1,s=a.size),"color"in a&&t(2,i=a.color),"class"in a&&t(3,o=a.class)},[r,s,i,o]}class mc extends Z{constructor(e){super(),Q(this,e,pc,gc,X,{use:0,size:1,color:2,class:3})}}function bc(n){let e,t,r,s,i,o,a,l,c,u,h,d,g,m,_,b,y,p,w,v;return{c(){e=D("svg"),t=D("rect"),r=D("animate"),s=D("animate"),i=D("rect"),o=D("animate"),a=D("animate"),l=D("rect"),c=D("animate"),u=D("animate"),h=D("rect"),d=D("animate"),g=D("animate"),m=D("rect"),_=D("animate"),b=D("animate"),f(r,"attributeName","height"),f(r,"begin","0.5s"),f(r,"dur","1s"),f(r,"values","120;110;100;90;80;70;60;50;40;140;120"),f(r,"calcMode","linear"),f(r,"repeatCount","indefinite"),f(s,"attributeName","y"),f(s,"begin","0.5s"),f(s,"dur","1s"),f(s,"values","10;15;20;25;30;35;40;45;50;0;10"),f(s,"calcMode","linear"),f(s,"repeatCount","indefinite"),f(t,"y","10"),f(t,"width","15"),f(t,"height","120"),f(t,"rx","6"),f(o,"attributeName","height"),f(o,"begin","0.25s"),f(o,"dur","1s"),f(o,"values","120;110;100;90;80;70;60;50;40;140;120"),f(o,"calcMode","linear"),f(o,"repeatCount","indefinite"),f(a,"attributeName","y"),f(a,"begin","0.25s"),f(a,"dur","1s"),f(a,"values","10;15;20;25;30;35;40;45;50;0;10"),f(a,"calcMode","linear"),f(a,"repeatCount","indefinite"),f(i,"x","30"),f(i,"y","10"),f(i,"width","15"),f(i,"height","120"),f(i,"rx","6"),f(c,"attributeName","height"),f(c,"begin","0s"),f(c,"dur","1s"),f(c,"values","120;110;100;90;80;70;60;50;40;140;120"),f(c,"calcMode","linear"),f(c,"repeatCount","indefinite"),f(u,"attributeName","y"),f(u,"begin","0s"),f(u,"dur","1s"),f(u,"values","10;15;20;25;30;35;40;45;50;0;10"),f(u,"calcMode","linear"),f(u,"repeatCount","indefinite"),f(l,"x","60"),f(l,"width","15"),f(l,"height","140"),f(l,"rx","6"),f(d,"attributeName","height"),f(d,"begin","0.25s"),f(d,"dur","1s"),f(d,"values","120;110;100;90;80;70;60;50;40;140;120"),f(d,"calcMode","linear"),f(d,"repeatCount","indefinite"),f(g,"attributeName","y"),f(g,"begin","0.25s"),f(g,"dur","1s"),f(g,"values","10;15;20;25;30;35;40;45;50;0;10"),f(g,"calcMode","linear"),f(g,"repeatCount","indefinite"),f(h,"x","90"),f(h,"y","10"),f(h,"width","15"),f(h,"height","120"),f(h,"rx","6"),f(_,"attributeName","height"),f(_,"begin","0.5s"),f(_,"dur","1s"),f(_,"values","120;110;100;90;80;70;60;50;40;140;120"),f(_,"calcMode","linear"),f(_,"repeatCount","indefinite"),f(b,"attributeName","y"),f(b,"begin","0.5s"),f(b,"dur","1s"),f(b,"values","10;15;20;25;30;35;40;45;50;0;10"),f(b,"calcMode","linear"),f(b,"repeatCount","indefinite"),f(m,"x","120"),f(m,"y","10"),f(m,"width","15"),f(m,"height","120"),f(m,"rx","6"),f(e,"viewBox","0 0 135 140"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill",n[2]),f(e,"width",y=`${n[1]}px`),f(e,"class",n[3])},m(T,E){$(T,e,E),k(e,t),k(t,r),k(t,s),k(e,i),k(i,o),k(i,a),k(e,l),k(l,c),k(l,u),k(e,h),k(h,d),k(h,g),k(e,m),k(m,_),k(m,b),w||(v=Pe(p=ve.call(null,e,n[0])),w=!0)},p(T,[E]){E&4&&f(e,"fill",T[2]),E&2&&y!==(y=`${T[1]}px`)&&f(e,"width",y),E&8&&f(e,"class",T[3]),p&&Se(p.update)&&E&1&&p.update.call(null,T[0])},i:H,o:H,d(T){T&&R(e),w=!1,v()}}}function _c(n,e,t){let{use:r=[]}=e,{size:s=25}=e,{color:i="blue"}=e,{class:o=""}=e;return n.$$set=a=>{"use"in a&&t(0,r=a.use),"size"in a&&t(1,s=a.size),"color"in a&&t(2,i=a.color),"class"in a&&t(3,o=a.class)},[r,s,i,o]}class yc extends Z{constructor(e){super(),Q(this,e,_c,bc,X,{use:0,size:1,color:2,class:3})}}function vc(n){let e,t,r,s,i,o,a,l,c,u,h,d,g,m,_;return{c(){e=D("svg"),t=D("circle"),r=D("animate"),s=D("animate"),i=D("circle"),o=D("animate"),a=D("animate"),l=D("circle"),c=D("animate"),u=D("animate"),f(r,"attributeName","r"),f(r,"from","15"),f(r,"to","15"),f(r,"begin","0s"),f(r,"dur","0.8s"),f(r,"values","15;9;15"),f(r,"calcMode","linear"),f(r,"repeatCount","indefinite"),f(s,"attributeName","fill-opacity"),f(s,"from","1"),f(s,"to","1"),f(s,"begin","0s"),f(s,"dur","0.8s"),f(s,"values","1;.5;1"),f(s,"calcMode","linear"),f(s,"repeatCount","indefinite"),f(t,"cx","15"),f(t,"cy","15"),f(t,"r","15"),f(o,"attributeName","r"),f(o,"from","9"),f(o,"to","9"),f(o,"begin","0s"),f(o,"dur","0.8s"),f(o,"values","9;15;9"),f(o,"calcMode","linear"),f(o,"repeatCount","indefinite"),f(a,"attributeName","fill-opacity"),f(a,"from","0.5"),f(a,"to","0.5"),f(a,"begin","0s"),f(a,"dur","0.8s"),f(a,"values",".5;1;.5"),f(a,"calcMode","linear"),f(a,"repeatCount","indefinite"),f(i,"cx","60"),f(i,"cy","15"),f(i,"r","9"),f(i,"fill-opacity","0.3"),f(c,"attributeName","r"),f(c,"from","15"),f(c,"to","15"),f(c,"begin","0s"),f(c,"dur","0.8s"),f(c,"values","15;9;15"),f(c,"calcMode","linear"),f(c,"repeatCount","indefinite"),f(u,"attributeName","fill-opacity"),f(u,"from","1"),f(u,"to","1"),f(u,"begin","0s"),f(u,"dur","0.8s"),f(u,"values","1;.5;1"),f(u,"calcMode","linear"),f(u,"repeatCount","indefinite"),f(l,"cx","105"),f(l,"cy","15"),f(l,"r","15"),f(e,"width",h=`${n[1]}px`),f(e,"height",d=`${Number(n[1])/4}px`),f(e,"viewBox","0 0 120 30"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill",n[2]),f(e,"class",n[3])},m(b,y){$(b,e,y),k(e,t),k(t,r),k(t,s),k(e,i),k(i,o),k(i,a),k(e,l),k(l,c),k(l,u),m||(_=Pe(g=ve.call(null,e,n[0])),m=!0)},p(b,[y]){y&2&&h!==(h=`${b[1]}px`)&&f(e,"width",h),y&2&&d!==(d=`${Number(b[1])/4}px`)&&f(e,"height",d),y&4&&f(e,"fill",b[2]),y&8&&f(e,"class",b[3]),g&&Se(g.update)&&y&1&&g.update.call(null,b[0])},i:H,o:H,d(b){b&&R(e),m=!1,_()}}}function wc(n,e,t){let{use:r=[]}=e,{size:s=25}=e,{color:i="blue"}=e,{class:o=""}=e;return n.$$set=a=>{"use"in a&&t(0,r=a.use),"size"in a&&t(1,s=a.size),"color"in a&&t(2,i=a.color),"class"in a&&t(3,o=a.class)},[r,s,i,o]}class kc extends Z{constructor(e){super(),Q(this,e,wc,vc,X,{use:0,size:1,color:2,class:3})}}const an={xs:18,sm:22,md:36,lg:44,xl:58},ln=(n,e=!1)=>Us.colors[e?`${n}400`:`${n}600`].value;function Sc(n){let e,t,r;const s=[{use:[n[5],[ve,n[1]]]},{color:n[4]==="white"?"white":ln(n[4])},{size:an[n[3]]||n[3]},{class:n[2]},n[8]];var i=n[6][n[7]];function o(a,l){let c={};for(let u=0;u<s.length;u+=1)c=re(c,s[u]);return l!==void 0&&l&318&&(c=re(c,Xe(s,[l&34&&{use:[a[5],[ve,a[1]]]},l&16&&{color:a[4]==="white"?"white":ln(a[4])},l&8&&{size:an[a[3]]||a[3]},l&4&&{class:a[2]},l&256&&Xn(a[8])]))),{props:c}}return i&&(e=Jn(i,o(n)),n[10](e)),{c(){e&&V(e.$$.fragment),t=$e()},m(a,l){e&&G(e,a,l),$(a,t,l),r=!0},p(a,[l]){if(i!==(i=a[6][a[7]])){if(e){oe();const c=e;O(c.$$.fragment,1,0,()=>{J(c,1)}),ae()}i?(e=Jn(i,o(a,l)),a[10](e),V(e.$$.fragment),I(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(i){const c=l&318?Xe(s,[l&34&&{use:[a[5],[ve,a[1]]]},l&16&&{color:a[4]==="white"?"white":ln(a[4])},l&8&&{size:an[a[3]]||a[3]},l&4&&{class:a[2]},l&256&&Xn(a[8])]):{};e.$set(c)}},i(a){r||(e&&I(e.$$.fragment,a),r=!0)},o(a){e&&O(e.$$.fragment,a),r=!1},d(a){a&&R(t),n[10](null),e&&J(e,a)}}}function xc(n,e,t){const r=["use","element","class","size","color","variant"];let s=zt(e,r),{use:i=[],element:o=void 0,class:a="",size:l="md",color:c="blue",variant:u="circle"}=e;const h=Ls(rt()),d={bars:yc,circle:mc,dots:kc},g=u in d?u:"circle";function m(_){we[_?"unshift":"push"](()=>{o=_,t(0,o)})}return n.$$set=_=>{e=re(re({},e),Lt(_)),t(8,s=zt(e,r)),"use"in _&&t(1,i=_.use),"element"in _&&t(0,o=_.element),"class"in _&&t(2,a=_.class),"size"in _&&t(3,l=_.size),"color"in _&&t(4,c=_.color),"variant"in _&&t(9,u=_.variant)},[o,i,a,l,c,h,d,g,s,u,m]}class xt extends Z{constructor(e){super(),Q(this,e,xc,Sc,X,{use:1,element:0,class:2,size:3,color:4,variant:9})}}function Ec(n){let e;return{c(){e=P("div"),f(e,"class","ripple svelte-3pkhve")},m(t,r){$(t,e,r),n[4](e)},p:H,i:H,o:H,d(t){t&&R(e),n[4](null)}}}function Tc(n){return n.constructor.name==="TouchEvent"}function Nr(n,e){n.style.transform=e,n.style.webkitTransform=e}function cn(n,e){n.style.opacity=e.toString()}const Cc=(n,e)=>{const t=e.getBoundingClientRect(),r=Tc(n)?n.touches[n.touches.length-1]:n,s=r.clientX-t.left,i=r.clientY-t.top;let o=0,a=.3;const l=e.dataset.center;e.dataset.circle?(a=.15,o=e.clientWidth/2,o=l?o:o+Math.sqrt((s-o)**2+(i-o)**2)/4):o=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const u=`${(e.clientWidth-o*2)/2}px`,h=`${(e.clientHeight-o*2)/2}px`,d=l?u:`${s-o}px`,g=l?h:`${i-o}px`;return{radius:o,scale:a,x:d,y:g,centerX:u,centerY:h}},Bs=function(n,e){const t=["touchcancel","mouseleave","dragstart"];let r=e.currentTarget||e.target;if(r&&!r.classList.contains("ripple")&&(r=r.querySelector(".ripple")),!r)return;const s=r.dataset.event;if(s&&s!==n)return;r.dataset.event=n;const i=document.createElement("span"),{radius:o,scale:a,x:l,y:c,centerX:u,centerY:h}=Cc(e,r),d=r.dataset.color,g=`${o*2}px`;i.className="animation",i.style.width=g,i.style.height=g,i.style.background=d,i.classList.add("animation-enter"),i.classList.add("animation--visible"),Nr(i,`translate(${l}, ${c}) scale3d(${a},${a},${a})`),cn(i,0),i.dataset.activated=String(performance.now()),r.appendChild(i),setTimeout(()=>{i.classList.remove("animation-enter"),i.classList.add("animation-in"),Nr(i,`translate(${u}, ${h}) scale3d(1,1,1)`),cn(i,.25)},0);const m=n==="mousedown"?"mouseup":"touchend",_=function(){document.removeEventListener(m,_),t.forEach(p=>{document.removeEventListener(p,_)});const b=performance.now()-Number(i.dataset.activated),y=Math.max(250-b,0);setTimeout(()=>{i.classList.remove("animation-in"),i.classList.add("animation-out"),cn(i,0),setTimeout(()=>{i&&r.removeChild(i),r.children.length===0&&delete r.dataset.event},300)},y)};document.addEventListener(m,_),t.forEach(b=>{document.addEventListener(b,_,{passive:!0})})},Mr=function(n){n.button===0&&Bs(n.type,n)},Ur=function(n){if(n.changedTouches)for(let e=0;e<n.changedTouches.length;++e)Bs(n.type,n.changedTouches[e])};function Ic(n,e,t){let{center:r=!1}=e,{circle:s=!1}=e,{color:i="currentColor"}=e,o,a;Le(async()=>{await si();try{r&&t(0,o.dataset.center="true",o),s&&t(0,o.dataset.circle="true",o),t(0,o.dataset.color=i,o),a=o.parentElement}catch{}if(!a){console.error("Ripple: Trigger element not found.");return}let c=window.getComputedStyle(a);(c.position.length===0||c.position==="static")&&(a.style.position="relative"),a.addEventListener("touchstart",Ur,{passive:!0}),a.addEventListener("mousedown",Mr,{passive:!0})}),In(()=>{a&&(a.removeEventListener("mousedown",Mr),a.removeEventListener("touchstart",Ur))});function l(c){we[c?"unshift":"push"](()=>{o=c,t(0,o)})}return n.$$set=c=>{"center"in c&&t(1,r=c.center),"circle"in c&&t(2,s=c.circle),"color"in c&&t(3,i=c.color)},[o,r,s,i,l]}class Fs extends Z{constructor(e){super(),Q(this,e,Ic,Ec,X,{center:1,circle:2,color:3})}}const Oc=n=>({}),Br=n=>({}),jc=n=>({}),Fr=n=>({}),Ac=n=>({}),Wr=n=>({}),Pc=n=>({}),qr=n=>({});function Rc(n){let e,t,r,s,i,o,a,l,c,u,h,d,g;const m=[zc,Lc],_=[];function b(x,S){return x[11]&&x[5]==="left"?0:x[21].leftIcon?1:-1}~(t=b(n))&&(r=_[t]=m[t](n));const y=n[28].default,p=Ze(y,n,n[27],null),w=p||Nc();let v=n[13]&&Hr();const T=[Uc,Mc],E=[];function j(x,S){return x[11]&&x[5]==="right"?0:x[21].rightIcon?1:-1}~(a=j(n))&&(l=E[a]=T[a](n));let B=[{class:c=n[18](n[3],n[17].root,n[16]({css:n[1],variation:n[4]}),{[n[17].disabled]:n[9],[n[17].loading]:n[11]})},{disabled:n[9]},n[20],{tabindex:"0"}],U={};for(let x=0;x<B.length;x+=1)U=re(U,B[x]);return{c(){e=P("button"),r&&r.c(),s=q(),w&&w.c(),i=q(),v&&v.c(),o=q(),l&&l.c(),Ke(e,U),ie(e,"compact",n[10]),ie(e,"uppercase",n[12]),ie(e,"svelte-5xpm5q",!0)},m(x,S){$(x,e,S),~t&&_[t].m(e,null),k(e,s),w&&w.m(e,null),k(e,i),v&&v.m(e,null),k(e,o),~a&&E[a].m(e,null),e.autofocus&&e.focus(),n[30](e),h=!0,d||(g=[Pe(u=ve.call(null,e,n[2])),Pe(n[19].call(null,e))],d=!0)},p(x,S){let N=t;t=b(x),t===N?~t&&_[t].p(x,S):(r&&(oe(),O(_[N],1,1,()=>{_[N]=null}),ae()),~t?(r=_[t],r?r.p(x,S):(r=_[t]=m[t](x),r.c()),I(r,1),r.m(e,s)):r=null),p&&p.p&&(!h||S&134217728)&&tt(p,y,x,x[27],h?et(y,x[27],S,null):nt(x[27]),null),x[13]?v?S&8192&&I(v,1):(v=Hr(),v.c(),I(v,1),v.m(e,o)):v&&(oe(),O(v,1,1,()=>{v=null}),ae());let ee=a;a=j(x),a===ee?~a&&E[a].p(x,S):(l&&(oe(),O(E[ee],1,1,()=>{E[ee]=null}),ae()),~a?(l=E[a],l?l.p(x,S):(l=E[a]=T[a](x),l.c()),I(l,1),l.m(e,null)):l=null),Ke(e,U=Xe(B,[(!h||S&461338&&c!==(c=x[18](x[3],x[17].root,x[16]({css:x[1],variation:x[4]}),{[x[17].disabled]:x[9],[x[17].loading]:x[11]})))&&{class:c},(!h||S&512)&&{disabled:x[9]},S&1048576&&x[20],{tabindex:"0"}])),u&&Se(u.update)&&S&4&&u.update.call(null,x[2]),ie(e,"compact",x[10]),ie(e,"uppercase",x[12]),ie(e,"svelte-5xpm5q",!0)},i(x){h||(I(r),I(w,x),I(v),I(l),h=!0)},o(x){O(r),O(w,x),O(v),O(l),h=!1},d(x){x&&R(e),~t&&_[t].d(),w&&w.d(x),v&&v.d(),~a&&E[a].d(),n[30](null),d=!1,ke(g)}}}function $c(n){let e,t,r,s,i,o,a,l,c,u,h,d,g,m;const _=[Wc,Fc],b=[];function y(S,N){return S[11]&&S[5]==="left"?0:S[21].leftIcon?1:-1}~(t=y(n))&&(r=b[t]=_[t](n));const p=n[28].default,w=Ze(p,n,n[27],null),v=w||Hc();let T=n[13]&&Gr();const E=[Jc,Gc],j=[];function B(S,N){return S[11]&&S[5]==="right"?0:S[21].rightIcon?1:-1}~(a=B(n))&&(l=j[a]=E[a](n));let U=[{href:n[7]},{class:c=n[18](n[3],n[17].root,n[16]({css:n[1],variation:n[4],disabled:n[9]}),{[n[17].disabled]:n[9],[n[17].loading]:n[11]})},{role:"button"},{rel:"noreferrer noopener"},{target:u=n[8]?"_blank":"_self"},n[20],{tabindex:"0"}],x={};for(let S=0;S<U.length;S+=1)x=re(x,U[S]);return{c(){e=P("a"),r&&r.c(),s=q(),v&&v.c(),i=q(),T&&T.c(),o=q(),l&&l.c(),Ke(e,x),ie(e,"compact",n[10]),ie(e,"uppercase",n[12]),ie(e,"svelte-5xpm5q",!0)},m(S,N){$(S,e,N),~t&&b[t].m(e,null),k(e,s),v&&v.m(e,null),k(e,i),T&&T.m(e,null),k(e,o),~a&&j[a].m(e,null),n[29](e),d=!0,g||(m=[Pe(h=ve.call(null,e,n[2])),Pe(n[19].call(null,e))],g=!0)},p(S,N){let ee=t;t=y(S),t===ee?~t&&b[t].p(S,N):(r&&(oe(),O(b[ee],1,1,()=>{b[ee]=null}),ae()),~t?(r=b[t],r?r.p(S,N):(r=b[t]=_[t](S),r.c()),I(r,1),r.m(e,s)):r=null),w&&w.p&&(!d||N&134217728)&&tt(w,p,S,S[27],d?et(p,S[27],N,null):nt(S[27]),null),S[13]?T?N&8192&&I(T,1):(T=Gr(),T.c(),I(T,1),T.m(e,o)):T&&(oe(),O(T,1,1,()=>{T=null}),ae());let ue=a;a=B(S),a===ue?~a&&j[a].p(S,N):(l&&(oe(),O(j[ue],1,1,()=>{j[ue]=null}),ae()),~a?(l=j[a],l?l.p(S,N):(l=j[a]=E[a](S),l.c()),I(l,1),l.m(e,null)):l=null),Ke(e,x=Xe(U,[(!d||N&128)&&{href:S[7]},(!d||N&461338&&c!==(c=S[18](S[3],S[17].root,S[16]({css:S[1],variation:S[4],disabled:S[9]}),{[S[17].disabled]:S[9],[S[17].loading]:S[11]})))&&{class:c},{role:"button"},{rel:"noreferrer noopener"},(!d||N&256&&u!==(u=S[8]?"_blank":"_self"))&&{target:u},N&1048576&&S[20],{tabindex:"0"}])),h&&Se(h.update)&&N&4&&h.update.call(null,S[2]),ie(e,"compact",S[10]),ie(e,"uppercase",S[12]),ie(e,"svelte-5xpm5q",!0)},i(S){d||(I(r),I(v,S),I(T),I(l),d=!0)},o(S){O(r),O(v,S),O(T),O(l),d=!1},d(S){S&&R(e),~t&&b[t].d(),v&&v.d(S),T&&T.d(),~a&&j[a].d(),n[29](null),g=!1,ke(m)}}}function Lc(n){let e,t;const r=n[28].leftIcon,s=Ze(r,n,n[27],Fr),i=s||Dc();return{c(){e=P("span"),i&&i.c(),f(e,"class","left-section svelte-5xpm5q")},m(o,a){$(o,e,a),i&&i.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&134217728)&&tt(s,r,o,o[27],t?et(r,o[27],a,jc):nt(o[27]),Fr)},i(o){t||(I(i,o),t=!0)},o(o){O(i,o),t=!1},d(o){o&&R(e),i&&i.d(o)}}}function zc(n){let e,t,r;return t=new xt({props:{variant:n[6].variant,size:n[6].size,color:n[6].color}}),{c(){e=P("span"),V(t.$$.fragment),f(e,"class","left-section svelte-5xpm5q")},m(s,i){$(s,e,i),G(t,e,null),r=!0},p(s,i){const o={};i&64&&(o.variant=s[6].variant),i&64&&(o.size=s[6].size),i&64&&(o.color=s[6].color),t.$set(o)},i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&R(e),J(t)}}}function Dc(n){let e;return{c(){e=K("X")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Nc(n){let e;return{c(){e=K("Button")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Hr(n){let e,t;return e=new Fs({props:{center:!1,circle:!1}}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function Mc(n){let e,t;const r=n[28].rightIcon,s=Ze(r,n,n[27],Br),i=s||Bc();return{c(){e=P("span"),i&&i.c(),f(e,"class","right-section svelte-5xpm5q")},m(o,a){$(o,e,a),i&&i.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&134217728)&&tt(s,r,o,o[27],t?et(r,o[27],a,Oc):nt(o[27]),Br)},i(o){t||(I(i,o),t=!0)},o(o){O(i,o),t=!1},d(o){o&&R(e),i&&i.d(o)}}}function Uc(n){let e,t,r;return t=new xt({props:{variant:n[6].variant,size:n[6].size,color:n[6].color}}),{c(){e=P("span"),V(t.$$.fragment),f(e,"class","right-section svelte-5xpm5q")},m(s,i){$(s,e,i),G(t,e,null),r=!0},p(s,i){const o={};i&64&&(o.variant=s[6].variant),i&64&&(o.size=s[6].size),i&64&&(o.color=s[6].color),t.$set(o)},i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&R(e),J(t)}}}function Bc(n){let e;return{c(){e=K("X")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Fc(n){let e,t;const r=n[28].leftIcon,s=Ze(r,n,n[27],qr),i=s||qc();return{c(){e=P("span"),i&&i.c(),f(e,"class","left-section svelte-5xpm5q")},m(o,a){$(o,e,a),i&&i.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&134217728)&&tt(s,r,o,o[27],t?et(r,o[27],a,Pc):nt(o[27]),qr)},i(o){t||(I(i,o),t=!0)},o(o){O(i,o),t=!1},d(o){o&&R(e),i&&i.d(o)}}}function Wc(n){let e,t,r;return t=new xt({props:{variant:n[6].variant,size:n[6].size,color:n[6].color}}),{c(){e=P("span"),V(t.$$.fragment),f(e,"class","left-section svelte-5xpm5q")},m(s,i){$(s,e,i),G(t,e,null),r=!0},p(s,i){const o={};i&64&&(o.variant=s[6].variant),i&64&&(o.size=s[6].size),i&64&&(o.color=s[6].color),t.$set(o)},i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&R(e),J(t)}}}function qc(n){let e;return{c(){e=K("X")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Hc(n){let e;return{c(){e=K("Button")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Gr(n){let e,t;return e=new Fs({props:{center:!1,circle:!1}}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function Gc(n){let e,t;const r=n[28].rightIcon,s=Ze(r,n,n[27],Wr),i=s||Vc();return{c(){e=P("span"),i&&i.c(),f(e,"class","right-section svelte-5xpm5q")},m(o,a){$(o,e,a),i&&i.m(e,null),t=!0},p(o,a){s&&s.p&&(!t||a&134217728)&&tt(s,r,o,o[27],t?et(r,o[27],a,Ac):nt(o[27]),Wr)},i(o){t||(I(i,o),t=!0)},o(o){O(i,o),t=!1},d(o){o&&R(e),i&&i.d(o)}}}function Jc(n){let e,t,r;return t=new xt({props:{variant:n[6].variant,size:n[6].size,color:n[6].color}}),{c(){e=P("span"),V(t.$$.fragment),f(e,"class","right-section svelte-5xpm5q")},m(s,i){$(s,e,i),G(t,e,null),r=!0},p(s,i){const o={};i&64&&(o.variant=s[6].variant),i&64&&(o.size=s[6].size),i&64&&(o.color=s[6].color),t.$set(o)},i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&R(e),J(t)}}}function Vc(n){let e;return{c(){e=K("X")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Kc(n){let e,t,r,s,i,o;e=new pl({props:{observable:n[14],component:"Button",code:n[15]}});const a=[$c,Rc],l=[];function c(u,h){return u[7]?0:1}return r=c(n),s=l[r]=a[r](n),{c(){V(e.$$.fragment),t=q(),s.c(),i=$e()},m(u,h){G(e,u,h),$(u,t,h),l[r].m(u,h),$(u,i,h),o=!0},p(u,[h]){const d={};h&16384&&(d.observable=u[14]),h&32768&&(d.code=u[15]),e.$set(d);let g=r;r=c(u),r===g?l[r].p(u,h):(oe(),O(l[g],1,1,()=>{l[g]=null}),ae(),s=l[r],s?s.p(u,h):(s=l[r]=a[r](u),s.c()),I(s,1),s.m(i.parentNode,i))},i(u){o||(I(e.$$.fragment,u),I(s),o=!0)},o(u){O(e.$$.fragment,u),O(s),o=!1},d(u){u&&(R(t),R(i)),J(e,u),l[r].d(u)}}}function Xc(n,e,t){let r,s,i;const o=["use","element","class","override","variant","color","size","radius","gradient","loaderPosition","loaderProps","href","external","disabled","compact","loading","uppercase","fullSize","ripple"];let a=zt(e,o),{$$slots:l={},$$scope:c}=e;const u=Js(l);let{use:h=[],element:d=void 0,class:g="",override:m={},variant:_="filled",color:b="blue",size:y="sm",radius:p="sm",gradient:w={from:"indigo",to:"cyan",deg:45},loaderPosition:v="left",loaderProps:T={size:"xs",color:"white",variant:"circle"},href:E=null,external:j=!1,disabled:B=!1,compact:U=!1,loading:x=!1,uppercase:S=!1,fullSize:N=!1,ripple:ee=!1}=e;const ue=Ls(rt());let xe=!1,it;B&&x&&(xe=!0,it=Dr[0]),(j&&typeof E!="string"||(E==null?void 0:E.length)<1)&&(xe=!0,it=Dr[1]);function ot(A){we[A?"unshift":"push"](()=>{d=A,t(0,d)})}function at(A){we[A?"unshift":"push"](()=>{d=A,t(0,d)})}return n.$$set=A=>{e=re(re({},e),Lt(A)),t(20,a=zt(e,o)),"use"in A&&t(2,h=A.use),"element"in A&&t(0,d=A.element),"class"in A&&t(3,g=A.class),"override"in A&&t(1,m=A.override),"variant"in A&&t(4,_=A.variant),"color"in A&&t(22,b=A.color),"size"in A&&t(23,y=A.size),"radius"in A&&t(24,p=A.radius),"gradient"in A&&t(25,w=A.gradient),"loaderPosition"in A&&t(5,v=A.loaderPosition),"loaderProps"in A&&t(6,T=A.loaderProps),"href"in A&&t(7,E=A.href),"external"in A&&t(8,j=A.external),"disabled"in A&&t(9,B=A.disabled),"compact"in A&&t(10,U=A.compact),"loading"in A&&t(11,x=A.loading),"uppercase"in A&&t(12,S=A.uppercase),"fullSize"in A&&t(26,N=A.fullSize),"ripple"in A&&t(13,ee=A.ripple),"$$scope"in A&&t(27,c=A.$$scope)},n.$$.update=()=>{n.$$.dirty&16384&&xe&&t(1,m={display:"none"}),n.$$.dirty&130024464&&t(18,{cx:r,classes:s,getStyles:i}=fc({color:b,compact:U,fullSize:N,gradient:w,radius:p,size:y,variant:_},{name:"Button"}),r,(t(17,s),t(22,b),t(10,U),t(26,N),t(25,w),t(24,p),t(23,y),t(4,_)),(t(16,i),t(22,b),t(10,U),t(26,N),t(25,w),t(24,p),t(23,y),t(4,_)))},[d,m,h,g,_,v,T,E,j,B,U,x,S,ee,xe,it,i,s,r,ue,a,u,b,y,p,w,N,c,l,ot,at]}class Ws extends Z{constructor(e){super(),Q(this,e,Xc,Kc,X,{use:2,element:0,class:3,override:1,variant:4,color:22,size:23,radius:24,gradient:25,loaderPosition:5,loaderProps:6,href:7,external:8,disabled:9,compact:10,loading:11,uppercase:12,fullSize:26,ripple:13})}}function Yc(n){let e;return{c(){e=K("Close")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function Qc(n){let e,t,r,s=n[0].Name+"",i,o,a,l=n[0].Description+"",c,u,h,d,g,m,_,b,y,p,w;return p=new Ws({props:{color:"#8da290",$$slots:{default:[Yc]},$$scope:{ctx:n}}}),p.$on("click",n[2]),{c(){e=P("div"),t=P("div"),r=P("h1"),i=K(s),o=q(),a=P("p"),c=K(l),u=q(),h=P("p"),d=K(n[1]),g=q(),m=P("img"),y=q(),V(p.$$.fragment),f(r,"class","svelte-zvf8sy"),f(a,"class","svelte-zvf8sy"),f(h,"class","svelte-zvf8sy"),f(m,"class","image svelte-zvf8sy"),Hn(m.src,_=n[0].ImageUrl)||f(m,"src",_),f(m,"alt",b=n[0].Name),f(t,"class","main svelte-zvf8sy"),f(e,"class","wrapper svelte-zvf8sy")},m(v,T){$(v,e,T),k(e,t),k(t,r),k(r,i),k(t,o),k(t,a),k(a,c),k(t,u),k(t,h),k(h,d),k(t,g),k(t,m),k(t,y),G(p,t,null),w=!0},p(v,[T]){(!w||T&1)&&s!==(s=v[0].Name+"")&&_e(i,s),(!w||T&1)&&l!==(l=v[0].Description+"")&&_e(c,l),(!w||T&2)&&_e(d,v[1]),(!w||T&1&&!Hn(m.src,_=v[0].ImageUrl))&&f(m,"src",_),(!w||T&1&&b!==(b=v[0].Name))&&f(m,"alt",b);const E={};T&8&&(E.$$scope={dirty:T,ctx:v}),p.$set(E)},i(v){w||(I(p.$$.fragment,v),w=!0)},o(v){O(p.$$.fragment,v),w=!1},d(v){v&&R(e),J(p)}}}function Zc(n,e,t){let r;Mt.subscribe(o=>{t(0,r=o)});let s="Loading fact...";return Le(()=>{ms(r.Name).then(o=>{t(1,s=o)})}),[r,s,()=>Mt.set(void 0)]}class eu extends Z{constructor(e){super(),Q(this,e,Zc,Qc,X,{})}}const tu="/assets/Jingle-CBzuM26v.mp3";function Jr(n){let e,t;return e=new eu({}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function Vr(n){let e,t,r;return t=new xt({}),{c(){e=P("div"),V(t.$$.fragment),f(e,"class","loader svelte-bos9al")},m(s,i){$(s,e,i),G(t,e,null),r=!0},i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){O(t.$$.fragment,s),r=!1},d(s){s&&R(e),J(t)}}}function nu(n){let e,t,r,s,i,o,a,l,c,u,h,d,g,m,_,b,y=n[2]&&Jr(),p=n[1]&&Vr();return i=new Rs({}),g=new Nt({props:{icon:"akar-icons:camera",width:"100",height:"100",class:"icon"}}),{c(){e=P("div"),y&&y.c(),t=q(),p&&p.c(),r=q(),s=P("main"),V(i.$$.fragment),o=q(),a=P("div"),l=q(),c=P("div"),u=P("video"),h=q(),d=P("div"),V(g.$$.fragment),f(u,"class","camera svelte-bos9al"),u.autoplay=!0,f(c,"class","camera-wrapper svelte-bos9al"),f(d,"class","button svelte-bos9al"),f(s,"class","main svelte-bos9al"),f(e,"class","wrapper")},m(w,v){$(w,e,v),y&&y.m(e,null),k(e,t),p&&p.m(e,null),k(e,r),k(e,s),G(i,s,null),k(s,o),k(s,a),k(s,l),k(s,c),k(c,u),n[4](u),k(s,h),k(s,d),G(g,d,null),m=!0,_||(b=Ve(d,"click",n[3]),_=!0)},p(w,[v]){w[2]?y?v&4&&I(y,1):(y=Jr(),y.c(),I(y,1),y.m(e,t)):y&&(oe(),O(y,1,1,()=>{y=null}),ae()),w[1]?p?v&2&&I(p,1):(p=Vr(),p.c(),I(p,1),p.m(e,r)):p&&(oe(),O(p,1,1,()=>{p=null}),ae())},i(w){m||(I(y),I(p),I(i.$$.fragment,w),I(g.$$.fragment,w),m=!0)},o(w){O(y),O(p),O(i.$$.fragment,w),O(g.$$.fragment,w),m=!1},d(w){w&&R(e),y&&y.d(),p&&p.d(),J(i),n[4](null),J(g),_=!1,b()}}}function ru(n,e,t){let r,s,i,o=!1;const a={audio:!1,video:{facingMode:"environment"}},l=new Audio(tu);l.volume=1,(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&console.error("getUserMedia is not supported by your browser");let c;Mt.subscribe(d=>{t(2,c=d)}),navigator.mediaDevices.getUserMedia(a).then(d=>{const g=d.getVideoTracks();console.log("Got stream with constraints:",a),console.log(`Using video device: ${g[0].label}`),d.onremovetrack=()=>{console.log("Stream ended")},s=d.getVideoTracks()[0].getSettings().width,i=d.getVideoTracks()[0].getSettings().height,t(0,r.srcObject=d,r)}).catch(d=>{d.name==="OverconstrainedError"?console.error(`The resolution ${a.video.width.exact}x${a.video.height.exact} px is not supported by your device.`):d.name==="NotAllowedError"?console.error("You need to grant this page permission to access your camera and microphone."):console.error(`getUserMedia error: ${d.name}`,d)});async function u(){const d=document.createElement("canvas");d.width=s,d.height=i,d.getContext("2d").drawImage(r,0,0,s,i);const m=d.toDataURL("image/png");t(1,o=!0);let _=await Zo(m);t(1,o=!1);let b={Name:_,Description:"",ImageUrl:m};Mt.set(b),l.play()}function h(d){we[d?"unshift":"push"](()=>{r=d,t(0,r)})}return[r,o,c,u,h]}class su extends Z{constructor(e){super(),Q(this,e,ru,nu,X,{})}}function Kr(n){let e;return{c(){e=P("div"),f(e,"id","svelte-infinite-scroll"),Zs(e,"width","0")},m(t,r){$(t,e,r),n[11](e)},p:H,d(t){t&&R(e),n[11](null)}}}function iu(n){let e,t=!n[1]&&!n[0]&&Kr(n);return{c(){t&&t.c(),e=$e()},m(r,s){t&&t.m(r,s),$(r,e,s)},p(r,[s]){!r[1]&&!r[0]?t?t.p(r,s):(t=Kr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){r&&R(e),t&&t.d(r)}}}function ou(n,e,t){let{threshold:r=0}=e,{horizontal:s=!1}=e,{elementScroll:i=null}=e,{hasMore:o=!0}=e,{reverse:a=!1}=e,{window:l=!1}=e;const c=es();let u=!1,h,d,g,m;const _=p=>{if(!o)return;const w=p.target;b(w,a,s)<=r?(!u&&o&&(c("loadMore"),t(8,d=w.scrollHeight),t(9,g=w.scrollTop)),t(7,u=!0)):t(7,u=!1)},b=(p,w,v)=>{const T=p.documentElement?p.documentElement:p;return w?v?T.scrollLeft:T.scrollTop:v?T.scrollWidth-T.clientWidth-T.scrollLeft:T.scrollHeight-T.clientHeight-T.scrollTop};Le(()=>{l?t(10,m=document):i?t(10,m=i):t(10,m=h.parentNode)}),In(()=>{m&&(m.removeEventListener("scroll",_),m.removeEventListener("resize",_))});function y(p){we[p?"unshift":"push"](()=>{h=p,t(2,h)})}return n.$$set=p=>{"threshold"in p&&t(3,r=p.threshold),"horizontal"in p&&t(4,s=p.horizontal),"elementScroll"in p&&t(0,i=p.elementScroll),"hasMore"in p&&t(5,o=p.hasMore),"reverse"in p&&t(6,a=p.reverse),"window"in p&&t(1,l=p.window)},n.$$.update=()=>{n.$$.dirty&1088&&m&&(a&&t(10,m.scrollTop=m.scrollHeight,m),m.addEventListener("scroll",_),m.addEventListener("resize",_)),n.$$.dirty&1984&&u&&a&&t(10,m.scrollTop=m.scrollHeight-d+g,m)},[i,l,h,r,s,o,a,u,d,g,m,y]}class au extends Z{constructor(e){super(),Q(this,e,ou,iu,X,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function lu(n){let e,t,r,s,i,o,a=(n[1]?n[1]:0)+"",l,c,u;return{c(){e=P("div"),t=P("h1"),r=K(n[0]),s=q(),i=P("p"),o=K("captures: "),l=K(a),f(t,"class","svelte-1tgjh4b"),f(i,"class","svelte-1tgjh4b"),f(e,"class","cell svelte-1tgjh4b")},m(h,d){$(h,e,d),k(e,t),k(t,r),k(e,s),k(e,i),k(i,o),k(i,l),c||(u=Ve(e,"click",n[2]),c=!0)},p(h,[d]){d&1&&_e(r,h[0]),d&2&&a!==(a=(h[1]?h[1]:0)+"")&&_e(l,a)},i:H,o:H,d(h){h&&R(e),c=!1,u()}}}function cu(n,e,t){let{name:r}=e,{count:s}=e;function i(){Ps.set({Name:r,TopCount:s}),wt.set(ye.Leaderboard)}return n.$$set=o=>{"name"in o&&t(0,r=o.name),"count"in o&&t(1,s=o.count)},[r,s,i]}class uu extends Z{constructor(e){super(),Q(this,e,cu,lu,X,{name:0,count:1})}}function Xr(n,e,t){const r=n.slice();return r[5]=e[t],r}function Yr(n){let e,t;return e=new uu({props:{name:n[5].name,count:n[5].count}}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},p(r,s){const i={};s&1&&(i.name=r[5].name),s&1&&(i.count=r[5].count),e.$set(i)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function du(n){let e,t,r,s,i,o,a,l,c,u,h,d,g,m;t=new Rs({}),a=new Nt({props:{icon:"bi:search",width:"30px",height:"30px",class:"search-icon"}});let _=Kn(n[0]),b=[];for(let p=0;p<_.length;p+=1)b[p]=Yr(Xr(n,_,p));const y=p=>O(b[p],1,1,()=>{b[p]=null});return g=new au({props:{threshold:100}}),g.$on("loadMore",n[2]),{c(){e=P("div"),V(t.$$.fragment),r=q(),s=P("h1"),s.textContent="Faunalog",i=q(),o=P("div"),V(a.$$.fragment),l=q(),c=P("input"),u=q(),h=P("div");for(let p=0;p<b.length;p+=1)b[p].c();d=q(),V(g.$$.fragment),f(s,"class","svelte-1w33kt"),f(c,"type","text"),f(c,"placeholder","Search for a species..."),f(c,"class","search-input svelte-1w33kt"),f(o,"class","search-bar svelte-1w33kt"),f(h,"class","fauna-grid svelte-1w33kt"),f(e,"class","wrapper svelte-1w33kt")},m(p,w){$(p,e,w),G(t,e,null),k(e,r),k(e,s),k(e,i),k(e,o),G(a,o,null),k(o,l),k(o,c),k(e,u),k(e,h);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(h,null);k(h,d),G(g,h,null),m=!0},p(p,[w]){if(w&1){_=Kn(p[0]);let v;for(v=0;v<_.length;v+=1){const T=Xr(p,_,v);b[v]?(b[v].p(T,w),I(b[v],1)):(b[v]=Yr(T),b[v].c(),I(b[v],1),b[v].m(h,d))}for(oe(),v=_.length;v<b.length;v+=1)y(v);ae()}},i(p){if(!m){I(t.$$.fragment,p),I(a.$$.fragment,p);for(let w=0;w<_.length;w+=1)I(b[w]);I(g.$$.fragment,p),m=!0}},o(p){O(t.$$.fragment,p),O(a.$$.fragment,p),b=b.filter(Boolean);for(let w=0;w<b.length;w+=1)O(b[w]);O(g.$$.fragment,p),m=!1},d(p){p&&R(e),J(t),J(a),Vs(b,p),J(g)}}}function hu(n,e,t){let r=0,s=[];async function i(){let l=await ea(),c=Object.entries(l).sort((u,h)=>h[1]-u[1]);t(0,s=[]);for(let u=0;u<c.length;u++){let h=c[u][0];s.push({name:h,count:l[h]})}o()}Le(()=>{i()});function o(){let l=r;r+=20;for(let c=l;c<r;c++)if(c<s.length){let u=s[c];t(0,s=[...s,u])}}return o(),[s,o,()=>{o()}]}class fu extends Z{constructor(e){super(),Q(this,e,hu,du,X,{})}}const gu="/assets/MainTheme-do7uwoaA.mp3";function pu(n){let e;return{c(){e=K("Close")},m(t,r){$(t,e,r)},d(t){t&&R(e)}}}function mu(n){let e,t,r,s=n[0].Name+" Leaderboard",i,o,a,l,c=n[0].TopCount+"",u,h,d,g,m,_,b;return _=new Ws({props:{color:"#8da290",$$slots:{default:[pu]},$$scope:{ctx:n}}}),_.$on("click",n[2]),{c(){e=P("div"),t=P("div"),r=P("h1"),i=K(s),o=q(),a=P("p"),l=K("1. Julian: "),u=K(c),h=q(),d=P("p"),g=K(n[1]),m=q(),V(_.$$.fragment),f(r,"class","svelte-66d0pt"),f(a,"class","svelte-66d0pt"),f(d,"class","svelte-66d0pt"),f(t,"class","main svelte-66d0pt"),f(e,"class","wrapper svelte-66d0pt")},m(y,p){$(y,e,p),k(e,t),k(t,r),k(r,i),k(t,o),k(t,a),k(a,l),k(a,u),k(t,h),k(t,d),k(d,g),k(t,m),G(_,t,null),b=!0},p(y,[p]){(!b||p&1)&&s!==(s=y[0].Name+" Leaderboard")&&_e(i,s),(!b||p&1)&&c!==(c=y[0].TopCount+"")&&_e(u,c),(!b||p&2)&&_e(g,y[1]);const w={};p&8&&(w.$$scope={dirty:p,ctx:y}),_.$set(w)},i(y){b||(I(_.$$.fragment,y),b=!0)},o(y){O(_.$$.fragment,y),b=!1},d(y){y&&R(e),J(_)}}}function bu(n,e,t){let r;Ps.subscribe(o=>{t(0,r=o)});let s="Loading fact...";return Le(()=>{ms(r.Name).then(o=>{t(1,s=o)})}),[r,s,()=>{wt.set(ye.Dex)}]}class _u extends Z{constructor(e){super(),Q(this,e,bu,mu,X,{})}}function yu(n){let e,t;return e=new _u({}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function vu(n){let e,t;return e=new fu({}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function wu(n){let e,t;return e=new su({}),{c(){V(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){J(e,r)}}}function ku(n){let e,t,r,s;const i=[wu,vu,yu],o=[];function a(l,c){return l[0]==ye.Photo?0:l[0]==ye.Dex?1:l[0]==ye.Leaderboard?2:-1}return~(t=a(n))&&(r=o[t]=i[t](n)),{c(){e=P("main"),r&&r.c(),f(e,"class","main")},m(l,c){$(l,e,c),~t&&o[t].m(e,null),s=!0},p(l,[c]){let u=t;t=a(l),t!==u&&(r&&(oe(),O(o[u],1,1,()=>{o[u]=null}),ae()),~t?(r=o[t],r||(r=o[t]=i[t](l),r.c()),I(r,1),r.m(e,null)):r=null)},i(l){s||(I(r),s=!0)},o(l){O(r),s=!1},d(l){l&&R(e),~t&&o[t].d()}}}function Su(n,e,t){let r;return wt.subscribe(s=>{console.log("Current State: ",s),t(0,r=s)}),Le(()=>{const s=new Audio(gu);s.loop=!0,s.volume=.5,s.play(),document.addEventListener("click",()=>{s.play()})}),[r]}class xu extends Z{constructor(e){super(),Q(this,e,Su,ku,X,{})}}new xu({target:document.getElementById("app")});
